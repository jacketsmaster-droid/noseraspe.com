<html lang="es" style="--brand-color: #dc2626;"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jackets Master Los Yoses - Equipamiento Motociclista Premium</title>
    <meta name="description" content="Jackets Master Los Yoses - Equipamiento motociclista premium en Costa Rica. Chaquetas, cascos, guantes y más con la mejor calidad.">
    <meta property="og:title" content="Jackets Master Los Yoses">
    <meta property="og:description" content="Equipamiento motociclista premium: Cortech, TourMaster, Joe Rocket, Noru y más.">
    <meta property="og:image" content="https://jacketsmaster.com/preview.jpg">
    <meta property="og:url" content="https://jacketsmaster.com">
    <meta name="twitter:card" content="summary_large_image">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton:ital,wght@0,400;1,400&amp;family=Roboto:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&amp;family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&amp;family=Montserrat:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&amp;family=Poppins:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400;1,600;1,700&amp;display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" id="favicon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='favGrad' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23dc2626;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%23991b1b;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' fill='%23000'/%3E%3Cpath d='M10 75 L25 45 L35 55 L50 35 L65 50 L75 30 L90 45 L90 75 Z' fill='url(%23favGrad)'/%3E%3Cpath d='M10 75 L20 70 L30 72 L40 68 L50 70 L60 67 L70 69 L80 66 L90 68 L90 75 Z' fill='%23374151' opacity='0.7'/%3E%3Ctext x='50' y='55' text-anchor='middle' font-family='Arial Black' font-size='24' font-weight='bold' fill='white' stroke='%23000' stroke-width='1'%3EJM%3C/text%3E%3Ctext x='50' y='85' text-anchor='middle' font-family='Arial' font-size='8' fill='%23dc2626' font-weight='bold'%3EYOSES%3C/text%3E%3C/svg%3E">
    
    <style>
        body {
            box-sizing: border-box;
        }

        /* Brand Identity - Sello Distintivo */
        .brand-title {
            font-family: 'Anton', sans-serif !important;
            font-style: italic !important;
            color: #dc2626 !important;
            text-shadow: 4px 4px 0px #000000 !important;
            letter-spacing: 3px !important;
            font-weight: 400 !important;
        }

        .brand-subtitle {
            font-family: 'Anton', sans-serif !important;
            color: #ffffff !important;
            text-shadow: 2px 2px 0px #000000 !important;
            letter-spacing: 1px !important;
        }

        /* Background Gradients */
        .bg-brand-gradient {
            background: linear-gradient(135deg, #000000 0%, #1f1f1f 50%, #000000 100%);
        }

        .bg-red-gradient {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
        }

        .bg-dark-gradient {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        }

        /* Admin Panel Styles */
        .admin-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.98);
            z-index: 9999;
            display: none !important;
            overflow-y: auto;
        }

        .admin-overlay.active {
            display: block !important;
        }

        /* Login Form */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            backdrop-filter: blur(10px);
        }

        .login-overlay.show {
            display: flex !important;
        }

        .admin-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            color: white;
        }

        .admin-header {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(220, 38, 38, 0.3);
        }

        .admin-tabs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .admin-tab {
            padding: 20px 15px;
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
            border: 2px solid transparent;
            color: #9ca3af;
            cursor: pointer;
            border-radius: 16px;
            text-align: center;
            transition: all 0.3s ease;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .admin-tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .admin-tab:hover::before {
            left: 100%;
        }

        .admin-tab:hover {
            border-color: #dc2626;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(220, 38, 38, 0.2);
        }

        .admin-tab.active {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
            border-color: #dc2626;
            box-shadow: 0 10px 30px rgba(220, 38, 38, 0.4);
            transform: translateY(-2px);
        }

        .admin-content {
            display: none;
            animation: fadeInUp 0.4s ease;
        }

        .admin-content.active {
            display: block;
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .admin-card {
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid #4b5563;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .admin-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #dc2626, #f59e0b, #10b981, #3b82f6, #8b5cf6, #dc2626);
            background-size: 200% 100%;
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .admin-card h4 {
            color: #fbbf24;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            color: #e5e7eb;
            font-size: 14px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 14px 18px;
            background: #374151;
            color: white;
            border: 2px solid #4b5563;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #dc2626;
            box-shadow: 0 0 0 4px rgba(220, 38, 38, 0.1);
            background: #4b5563;
        }

        /* Button Styles */
        .btn-admin {
            border: none;
            padding: 14px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            margin: 4px;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn-admin::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s;
        }

        .btn-admin:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-admin:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .btn-admin.primary {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
        }

        .btn-admin.success {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            color: white;
        }

        .btn-admin.warning {
            background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
            color: white;
        }

        .btn-admin.info {
            background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
            color: white;
        }

        .btn-admin.secondary {
            background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
            color: white;
        }

        .btn-admin.danger {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
        }

        /* Status Indicators */
        .status-active {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-inactive {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 18px 28px;
            border-radius: 16px;
            color: white;
            font-weight: 600;
            z-index: 10000;
            transform: translateX(400px);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        .notification.error {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
        }

        .notification.warning {
            background: linear-gradient(135deg, #d97706 0%, #b45309 100%);
        }

        .notification.info {
            background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
        }

        /* Image Upload */
        .image-upload-area {
            border: 3px dashed #4b5563;
            border-radius: 16px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
        }

        .image-upload-area:hover {
            border-color: #dc2626;
            background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
            transform: scale(1.02);
        }

        .image-upload-area.dragover {
            border-color: #dc2626;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            transform: scale(1.05);
        }

        /* Stats Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            border: 1px solid #4b5563;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #dc2626, #f59e0b);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 8px;
            font-family: 'Anton', sans-serif;
        }

        .stat-label {
            color: #9ca3af;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Product Cards */
        .product-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
        }

        .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(220, 38, 38, 0.2);
            border-color: #dc2626;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image {
            transform: scale(1.1);
        }

        .login-form {
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
            padding: 50px;
            border-radius: 25px;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
            border: 3px solid #dc2626;
            max-width: 450px;
            width: 90%;
            position: relative;
            overflow: hidden;
        }

        .login-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #dc2626, #f59e0b, #10b981, #3b82f6);
            background-size: 200% 100%;
            animation: shimmer 2s linear infinite;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .admin-container {
                padding: 15px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-tabs {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .brand-title {
                font-size: 2rem !important;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1f2937;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
        }

        /* Price Range Slider Styles */
        .slider-thumb-red {
            background: transparent;
        }

        .slider-thumb-red::-webkit-slider-thumb {
            appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            cursor: pointer;
            border: 2px solid #ffffff;
            box-shadow: 0 2px 6px rgba(220, 38, 38, 0.3);
            position: relative;
            z-index: 2;
        }

        .slider-thumb-red::-webkit-slider-thumb:hover {
            background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
            transform: scale(1.1);
        }

        .slider-thumb-red::-moz-range-thumb {
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            cursor: pointer;
            border: 2px solid #ffffff;
            box-shadow: 0 2px 6px rgba(220, 38, 38, 0.3);
        }

        .slider-thumb-red::-webkit-slider-track {
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
        }

        .slider-thumb-red::-moz-range-track {
            background: #e5e7eb;
            height: 8px;
            border-radius: 4px;
        }

        #minPriceRange {
            z-index: 1;
        }

        #maxPriceRange {
            z-index: 2;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.top-0{top:0px}.left-4{left:1rem}.right-4{right:1rem}.top-4{top:1rem}.right-1{right:0.25rem}.top-1{top:0.25rem}.z-10{z-index:10}.z-30{z-index:30}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mr-2{margin-right:0.5rem}.mr-3{margin-right:0.75rem}.mt-2{margin-top:0.5rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mr-1{margin-right:0.25rem}.line-clamp-3{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-12{height:3rem}.h-14{height:3.5rem}.h-16{height:4rem}.h-2{height:0.5rem}.h-20{height:5rem}.h-5{height:1.25rem}.h-8{height:2rem}.h-24{height:6rem}.h-6{height:1.5rem}.max-h-80{max-height:20rem}.max-h-96{max-height:24rem}.w-12{width:3rem}.w-14{width:3.5rem}.w-16{width:4rem}.w-20{width:5rem}.w-5{width:1.25rem}.w-8{width:2rem}.w-full{width:100%}.w-6{width:1.5rem}.max-w-3xl{max-width:48rem}.max-w-5xl{max-width:64rem}.flex-1{flex:1 1 0%}.cursor-pointer{cursor:pointer}.appearance-none{-webkit-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-wrap{flex-wrap:wrap}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-x-3 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-6 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1.5rem * var(--tw-space-x-reverse));margin-left:calc(1.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-8 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(2rem * var(--tw-space-x-reverse));margin-left:calc(2rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-8 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-gray-600{--tw-border-opacity:1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.border-yellow-600{--tw-border-opacity:1;border-color:rgb(202 138 4 / var(--tw-border-opacity, 1))}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-900{--tw-bg-opacity:1;background-color:rgb(113 63 18 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity:0.5}.bg-opacity-95{--tw-bg-opacity:0.95}.bg-opacity-70{--tw-bg-opacity:0.7}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-red-900\/20{--tw-gradient-from:rgb(127 29 29 / 0.2) var(--tw-gradient-from-position);--tw-gradient-to:rgb(127 29 29 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-transparent{--tw-gradient-to:transparent var(--tw-gradient-to-position)}.object-cover{object-fit:cover}.p-3{padding:0.75rem}.p-6{padding:1.5rem}.p-4{padding:1rem}.px-12{padding-left:3rem;padding-right:3rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-5xl{font-size:3rem;line-height:1}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.text-gray-300{--tw-text-opacity:1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.text-red-200{--tw-text-opacity:1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-300{--tw-text-opacity:1;color:rgb(253 224 71 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.underline{-webkit-text-decoration-line:underline;text-decoration-line:underline}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:border-red-500:hover{--tw-border-opacity:1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-red-700:hover{--tw-bg-opacity:1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\:text-red-400:hover{--tw-text-opacity:1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.hover\:text-red-800:hover{--tw-text-opacity:1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\:shadow-2xl:hover{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-red-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(239 68 68 / var(--tw-ring-opacity, 1))}@media (min-width: 768px){.md\:flex{display:flex}.md\:hidden{display:none}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.md\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.md\:grid-cols-5{grid-template-columns:repeat(5, minmax(0, 1fr))}.md\:text-7xl{font-size:4.5rem;line-height:1}}@media (min-width: 1024px){.lg\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.lg\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}@media (min-width: 1280px){.xl\:grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}}</style><style type="text/css" id="operaUserStyle"></style><style type="text/css"></style></head>
<body class="bg-brand-gradient" id="mainBody">

    <!-- Login Overlay -->
    <div id="loginOverlay" class="login-overlay">
        <div class="login-form">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-red-gradient rounded-full flex items-center justify-center mx-auto mb-6">
                    <i class="fas fa-shield-alt text-3xl text-white"></i>
                </div>
                <h2 class="text-3xl font-bold text-white mb-3 brand-title">PANEL DE ADMINISTRACIÓN</h2>
                <p class="text-gray-400">Ingresa tus credenciales de acceso</p>
                <div class="bg-yellow-900 bg-opacity-50 border border-yellow-600 rounded-lg p-3 mt-4">
                    <p class="text-yellow-300 text-sm"><i class="fas fa-lightbulb mr-2"></i><strong>Pista:</strong> Ubicación de la tienda en San José</p>
                </div>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">Usuario</label>
                    <input type="text" id="loginUser" class="form-input" required="" placeholder="Ingresa tu usuario">
                </div>
                <div class="form-group">
                    <label class="form-label">Contraseña</label>
                    <input type="password" id="loginPassword" class="form-input" required="" placeholder="Ingresa tu contraseña">
                </div>
                <button type="submit" class="btn-admin primary w-full text-lg">
                    <i class="fas fa-sign-in-alt"></i>Iniciar Sesión
                </button>
            </form>
            <div id="loginError" class="text-red-400 text-sm mt-4 text-center" style="display: none;"></div>
        </div>
    </div>

    <!-- Admin Panel Overlay -->
    <div id="adminOverlay" class="admin-overlay active">
        <div class="admin-container">
            <!-- Admin Header -->
            <div class="admin-header">
                <div class="flex justify-between items-center">
                    <div class="flex items-center gap-6">
                        <div class="w-16 h-16 bg-black rounded-full flex items-center justify-center">
                            <i class="fas fa-cogs text-3xl text-red-500"></i>
                        </div>
                        <div>
                            <h1 class="text-4xl font-bold text-white brand-title">PANEL DE ADMINISTRACIÓN</h1>
                            <p class="text-red-200 text-lg brand-subtitle">Gestiona tu tienda de equipamiento motociclista</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-6">
                        <div class="text-right text-sm text-red-200">
                            <div class="flex items-center gap-2">
                                <i class="fas fa-circle text-green-400 text-xs"></i>
                                <span>Sesión Activa</span>
                            </div>
                            <div id="sessionTimer" class="font-mono">Tiempo: 29:49</div>
                        </div>
                        <button onclick="closeAdminPanel()" class="btn-admin danger text-lg">
                            <i class="fas fa-times"></i>Cerrar Panel
                        </button>
                    </div>
                </div>
            </div>

            <!-- Stats Dashboard -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalProducts">9</div>
                    <div class="stat-label">Total Productos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalCategories">6</div>
                    <div class="stat-label">Categorías</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalBrands">4</div>
                    <div class="stat-label">Marcas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalClicks">0</div>
                    <div class="stat-label">Clics WhatsApp</div>
                </div>
            </div>

            <!-- Admin Tabs -->
            <div class="admin-tabs">
                <button class="admin-tab" onclick="switchTab('dashboard')">
                    <i class="fas fa-chart-line text-2xl mb-3"></i><br>
                    <span class="font-bold">Dashboard</span>
                </button>
                <button class="admin-tab" onclick="switchTab('products')">
                    <i class="fas fa-box text-2xl mb-3"></i><br>
                    <span class="font-bold active">Productos</span>
                </button>
                <button class="admin-tab" onclick="switchTab('categories')">
                    <i class="fas fa-tags text-2xl mb-3"></i><br>
                    <span class="font-bold">Categorías</span>
                </button>
                <button class="admin-tab" onclick="switchTab('brands')">
                    <i class="fas fa-award text-2xl mb-3"></i><br>
                    <span class="font-bold">Marcas</span>
                </button>
                <button class="admin-tab" onclick="switchTab('design')">
                    <i class="fas fa-palette text-2xl mb-3"></i><br>
                    <span class="font-bold">Diseño</span>
                </button>
                <button class="admin-tab" onclick="switchTab('buttons')">
                    <i class="fas fa-mouse-pointer text-2xl mb-3"></i><br>
                    <span class="font-bold">Botones</span>
                </button>
                <button class="admin-tab" onclick="switchTab('logos')">
                    <i class="fas fa-image text-2xl mb-3"></i><br>
                    <span class="font-bold">Logos</span>
                </button>
                <button class="admin-tab active" onclick="switchTab('export')">
                    <i class="fas fa-download text-2xl mb-3"></i><br>
                    <span class="font-bold">Exportar</span>
                </button>
            </div>

            <!-- Dashboard Tab -->
            <div id="dashboardTab" class="admin-content">
                <div class="admin-card">
                    <h4><i class="fas fa-chart-pie"></i>Análisis de Rendimiento</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Productos Más Consultados</h5>
                            <div id="topProducts" class="space-y-3">
                                <!-- Top products will be loaded here -->
                            </div>
                        </div>
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Categorías Populares</h5>
                            <div id="topCategories" class="space-y-3">
                                <!-- Top categories will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="admin-card">
                    <h4><i class="fas fa-history"></i>Actividad Reciente</h4>
                    <div id="recentActivity" class="space-y-3">
                        <!-- Recent activity will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Products Tab -->
            <div id="productsTab" class="admin-content">
                <div class="admin-card">
                    <h4><i class="fas fa-plus-circle"></i>Agregar/Editar Producto</h4>
                    <form id="productForm">
                        <input type="hidden" id="editProductId" value="">
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Nombre del Producto</label>
                                <input type="text" id="productName" class="form-input" required="" placeholder="Ej: Chaqueta Cortech Adrenaline">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Precio (₡)</label>
                                <input type="number" id="productPrice" class="form-input" required="" placeholder="250000">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Categoría</label>
                                <select id="productCategory" class="form-select" required=""><option value="">Seleccionar categoría</option><option value="cascos">Cascos</option><option value="botas">Botas</option><option value="rodilleras">Rodilleras</option><option value="protecciones">Protecciones</option><option value="maletines">Maletines</option><option value="otros">Otros</option></select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Marca</label>
                                <select id="productBrand" class="form-select" required=""><option value="">Seleccionar marca</option><option value="cortech">CORTECH</option><option value="tourmaster">TOURMASTER</option><option value="joerocket">JOE ROCKET</option><option value="noru">NORU</option></select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Tallas Disponibles</label>
                                <input type="text" id="productSizes" class="form-input" placeholder="S,M,L,XL,XXL" required="">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Estado</label>
                                <select id="productStatus" class="form-select">
                                    <option value="active">Activo</option>
                                    <option value="inactive">Inactivo</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Descripción Detallada</label>
                            <textarea id="productDescription" class="form-textarea" rows="4" required="" placeholder="Descripción completa del producto, características, materiales, etc."></textarea>
                        </div>
                        
                        <!-- Image Upload Section -->
                        <div class="form-group">
                            <label class="form-label">Imágenes del Producto</label>
                            <div class="image-upload-area" id="imageUploadArea">
                                <i class="fas fa-cloud-upload-alt text-5xl text-gray-400 mb-4"></i>
                                <p class="text-gray-300 mb-3 text-lg font-semibold">Arrastra imágenes aquí o haz clic para seleccionar</p>
                                <p class="text-sm text-gray-400">Soporta: JPG, PNG, WebP (máx. 5MB cada una)</p>
                                <input type="file" id="imageFiles" multiple="" accept="image/*" style="display: none;">
                            </div>
                            
                            <div class="mt-6">
                                <label class="form-label">O agregar URL de imagen</label>
                                <div class="flex gap-3">
                                    <input type="url" id="imageUrl" class="form-input" placeholder="https://ejemplo.com/imagen.jpg">
                                    <button type="button" onclick="addImageUrl()" class="btn-admin success">
                                        <i class="fas fa-plus"></i>Agregar URL
                                    </button>
                                </div>
                            </div>
                            
                            <div id="imagePreview" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6"></div>
                        </div>
                        
                        <div class="flex gap-4 mt-8">
                            <button type="submit" class="btn-admin success flex-1 text-lg">
                                <i class="fas fa-save"></i>Guardar Producto
                            </button>
                            <button type="button" onclick="cancelProductEdit()" class="btn-admin secondary">
                                <i class="fas fa-times"></i>Cancelar
                            </button>
                            <button type="button" onclick="clearProductForm()" class="btn-admin warning">
                                <i class="fas fa-broom"></i>Limpiar Formulario
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Product Templates -->
                <div class="admin-card">
                    <h4><i class="fas fa-copy"></i>Plantillas Rápidas de Productos</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <button onclick="createTemplate('jacket')" class="btn-admin info">
                            <i class="fas fa-tshirt"></i>Plantilla Chaqueta
                        </button>
                        <button onclick="createTemplate('gloves')" class="btn-admin info">
                            <i class="fas fa-hand-paper"></i>Plantilla Guantes
                        </button>
                        <button onclick="createTemplate('helmet')" class="btn-admin info">
                            <i class="fas fa-hard-hat"></i>Plantilla Casco
                        </button>
                    </div>
                </div>

                <!-- Products List -->
                <div class="admin-card">
                    <h4><i class="fas fa-list"></i>Lista de Productos (<span id="productCount">9</span>)</h4>
                    
                    <!-- Bulk Actions -->
                    <div class="flex flex-wrap gap-3 mb-6">
                        <button onclick="selectAllProducts()" class="btn-admin secondary">
                            <i class="fas fa-check-square"></i>Seleccionar Todo
                        </button>
                        <button onclick="bulkActivate()" class="btn-admin success">
                            <i class="fas fa-eye"></i>Activar Seleccionados
                        </button>
                        <button onclick="bulkDeactivate()" class="btn-admin warning">
                            <i class="fas fa-eye-slash"></i>Desactivar Seleccionados
                        </button>
                        <button onclick="bulkDelete()" class="btn-admin danger">
                            <i class="fas fa-trash"></i>Eliminar Seleccionados
                        </button>
                    </div>
                    
                    <div id="adminProductList" class="space-y-4 max-h-96 overflow-y-auto">
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="1" onchange="toggleProductSelection(1)">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="Jacket Racing Pro" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Jacket Racing Pro</h5>
                                <p class="text-gray-400 text-sm">Sin categoría - Sin marca</p>
                                <p class="text-red-400 font-bold">₡179.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(1)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(1)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(1)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="2" onchange="toggleProductSelection(2)">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="Guantes Touring Comfort" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Guantes Touring Comfort</h5>
                                <p class="text-gray-400 text-sm">Sin categoría - TOURMASTER</p>
                                <p class="text-red-400 font-bold">₡54.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(2)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(2)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(2)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="3" onchange="toggleProductSelection(3)">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="Pantalones Kevlar Pro" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Pantalones Kevlar Pro</h5>
                                <p class="text-gray-400 text-sm">Sin categoría - CORTECH</p>
                                <p class="text-red-400 font-bold">₡119.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(3)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(3)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(3)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="4" onchange="toggleProductSelection(4)">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="Rodilleras Deportivas" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Rodilleras Deportivas</h5>
                                <p class="text-gray-400 text-sm">Rodilleras - NORU</p>
                                <p class="text-red-400 font-bold">₡27.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(4)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(4)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(4)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="5" onchange="toggleProductSelection(5)">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="Protecciones Espalda" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Protecciones Espalda</h5>
                                <p class="text-gray-400 text-sm">Protecciones - Sin marca</p>
                                <p class="text-red-400 font-bold">₡79.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(5)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(5)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(5)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="6" onchange="toggleProductSelection(6)">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="Bolso Tanque Magnético" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Bolso Tanque Magnético</h5>
                                <p class="text-gray-400 text-sm">Sin categoría - TOURMASTER</p>
                                <p class="text-red-400 font-bold">₡47.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(6)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(6)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(6)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="7" onchange="toggleProductSelection(7)">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="Liner Térmico Invierno" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Liner Térmico Invierno</h5>
                                <p class="text-gray-400 text-sm">Sin categoría - CORTECH</p>
                                <p class="text-red-400 font-bold">₡23.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(7)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(7)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(7)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="1759425604608" onchange="toggleProductSelection(1759425604608)">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwJ3igiGftbxMSmKsR83IX9LPT9d1rQqzF6g&amp;s" alt="Jacket Racing Pro (Copia)" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Jacket Racing Pro (Copia)</h5>
                                <p class="text-gray-400 text-sm">Sin categoría - TOURMASTER</p>
                                <p class="text-red-400 font-bold">₡179.990</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(1759425604608)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(1759425604608)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(1759425604608)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="1759425604609" onchange="toggleProductSelection(1759425604609)">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwJ3igiGftbxMSmKsR83IX9LPT9d1rQqzF6g&amp;s" alt="Jacket Racing Pro" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">Jacket Racing Pro</h5>
                                <p class="text-gray-400 text-sm">Cascos - NORU</p>
                                <p class="text-red-400 font-bold">₡3636</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="status-active">Activo</span>
                                <button onclick="editProduct(1759425604609)" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(1759425604609)" class="btn-admin warning">
                                    <i class="fas fa-eye-slash"></i>
                                    Desactivar
                                </button>
                                <button onclick="deleteProduct(1759425604609)" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>

            <!-- Categories Tab -->
            <div id="categoriesTab" class="admin-content">
                <div class="admin-card">
                    <h4><i class="fas fa-plus-circle"></i>Gestión de Categorías</h4>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Agregar Nueva Categoría</h5>
                            <form id="categoryForm">
                                <div class="form-group">
                                    <label class="form-label">ID de la Categoría</label>
                                    <input type="text" id="categoryId" class="form-input" placeholder="ej: nuevacategoria" required="">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Nombre de la Categoría</label>
                                    <input type="text" id="categoryName" class="form-input" placeholder="ej: Nueva Categoría" required="">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Icono (Font Awesome)</label>
                                    <input type="text" id="categoryIcon" class="form-input" placeholder="ej: fas fa-motorcycle">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Estado</label>
                                    <select id="categoryStatus" class="form-select">
                                        <option value="active">Activa</option>
                                        <option value="inactive">Inactiva</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn-admin success w-full">
                                    <i class="fas fa-plus"></i>Agregar Categoría
                                </button>
                            </form>
                        </div>
                        
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Categorías Existentes</h5>
                            <div id="categoriesList" class="space-y-3 max-h-80 overflow-y-auto">
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-hard-hat text-red-400 text-xl"></i>
                                <div>
                                    <h6 class="text-white font-bold">Cascos</h6>
                                    <p class="text-gray-400 text-sm">ID: cascos • 0 productos</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="status-active">Activa</span>
                                <button onclick="editCategory('cascos')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleCategoryStatus('cascos')" class="btn-admin warning text-sm">
                                    <i class="fas fa-eye-slash"></i>
                                </button>
                                <button onclick="deleteCategory('cascos')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-shoe-prints text-red-400 text-xl"></i>
                                <div>
                                    <h6 class="text-white font-bold">Botas</h6>
                                    <p class="text-gray-400 text-sm">ID: botas • 0 productos</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="status-active">Activa</span>
                                <button onclick="editCategory('botas')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleCategoryStatus('botas')" class="btn-admin warning text-sm">
                                    <i class="fas fa-eye-slash"></i>
                                </button>
                                <button onclick="deleteCategory('botas')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-shield-alt text-red-400 text-xl"></i>
                                <div>
                                    <h6 class="text-white font-bold">Rodilleras</h6>
                                    <p class="text-gray-400 text-sm">ID: rodilleras • 1 productos</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="status-active">Activa</span>
                                <button onclick="editCategory('rodilleras')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleCategoryStatus('rodilleras')" class="btn-admin warning text-sm">
                                    <i class="fas fa-eye-slash"></i>
                                </button>
                                <button onclick="deleteCategory('rodilleras')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-shield text-red-400 text-xl"></i>
                                <div>
                                    <h6 class="text-white font-bold">Protecciones</h6>
                                    <p class="text-gray-400 text-sm">ID: protecciones • 1 productos</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="status-active">Activa</span>
                                <button onclick="editCategory('protecciones')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleCategoryStatus('protecciones')" class="btn-admin warning text-sm">
                                    <i class="fas fa-eye-slash"></i>
                                </button>
                                <button onclick="deleteCategory('protecciones')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-suitcase text-red-400 text-xl"></i>
                                <div>
                                    <h6 class="text-white font-bold">Maletines</h6>
                                    <p class="text-gray-400 text-sm">ID: maletines • 0 productos</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="status-active">Activa</span>
                                <button onclick="editCategory('maletines')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleCategoryStatus('maletines')" class="btn-admin warning text-sm">
                                    <i class="fas fa-eye-slash"></i>
                                </button>
                                <button onclick="deleteCategory('maletines')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <i class="fas fa-ellipsis-h text-red-400 text-xl"></i>
                                <div>
                                    <h6 class="text-white font-bold">Otros</h6>
                                    <p class="text-gray-400 text-sm">ID: otros • 0 productos</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="status-active">Activa</span>
                                <button onclick="editCategory('otros')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleCategoryStatus('otros')" class="btn-admin warning text-sm">
                                    <i class="fas fa-eye-slash"></i>
                                </button>
                                <button onclick="deleteCategory('otros')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Brands Tab -->
            <div id="brandsTab" class="admin-content">
                <div class="admin-card">
                    <h4><i class="fas fa-plus-circle"></i>Gestión de Marcas</h4>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Agregar Nueva Marca</h5>
                            <form id="brandForm">
                                <div class="form-group">
                                    <label class="form-label">ID de la Marca</label>
                                    <input type="text" id="brandId" class="form-input" placeholder="ej: nuevamarca" required="">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Nombre de la Marca</label>
                                    <input type="text" id="brandName" class="form-input" placeholder="ej: Nueva Marca" required="">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">URL del Sitio Web</label>
                                    <input type="url" id="brandUrl" class="form-input" placeholder="https://nuevamarca.com">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Logo de la Marca (URL)</label>
                                    <input type="url" id="brandImage" class="form-input" placeholder="URL del logo">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Estado</label>
                                    <select id="brandStatus" class="form-select">
                                        <option value="active">Activa</option>
                                        <option value="inactive">Inactiva</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn-admin success w-full">
                                    <i class="fas fa-plus"></i>Agregar Marca
                                </button>
                            </form>
                        </div>
                        
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Marcas Existentes</h5>
                            <div id="brandsList" class="space-y-4 max-h-80 overflow-y-auto"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Design Tab -->
            <div id="designTab" class="admin-content">
                <div class="admin-card">
                    <h4><i class="fas fa-palette"></i>Personalización Visual</h4>
                    <p class="text-gray-300 mb-6">Personaliza los colores y tipografía de tu sitio web</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Colores de Fondo</h5>
                            <div class="space-y-4">
                                <div class="form-group">
                                    <label class="form-label">Fondo Principal</label>
                                    <input type="color" id="bodyBg" class="form-input h-12" value="#000000" onchange="updateStyles()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Header</label>
                                    <input type="color" id="headerBg" class="form-input h-12" value="#000000" onchange="updateStyles()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Hero Section</label>
                                    <input type="color" id="heroBg" class="form-input h-12" value="#1f1f1f" onchange="updateStyles()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Sección Productos</label>
                                    <input type="color" id="productsBg" class="form-input h-12" value="#f3f4f6" onchange="updateStyles()">
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Colores de Texto</h5>
                            <div class="space-y-4">
                                <div class="form-group">
                                    <label class="form-label">Títulos Principales (Rojo Característico)</label>
                                    <input type="color" id="titleColor" class="form-input h-12" value="#dc2626" onchange="updateStyles()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Texto Normal</label>
                                    <input type="color" id="textColor" class="form-input h-12" value="#ffffff" onchange="updateStyles()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Enlaces</label>
                                    <input type="color" id="linkColor" class="form-input h-12" value="#dc2626" onchange="updateStyles()">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Botones</label>
                                    <input type="color" id="buttonColor" class="form-input h-12" value="#dc2626" onchange="updateStyles()">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8">
                        <button onclick="resetToDefault()" class="btn-admin warning">
                            <i class="fas fa-undo"></i>Restaurar Colores por Defecto
                        </button>
                        <button onclick="saveDesign()" class="btn-admin success">
                            <i class="fas fa-save"></i>Guardar Diseño
                        </button>
                    </div>
                </div>
            </div>

            <!-- Buttons Tab -->
            <div id="buttonsTab" class="admin-content">
                <div class="admin-card">
                    <h4><i class="fas fa-mouse-pointer"></i>Configuración de Botones y Enlaces</h4>
                    
                    <div class="space-y-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="form-group">
                                <label class="form-label">Texto Botón Principal WhatsApp</label>
                                <input type="text" id="mainWhatsappText" class="form-input" value="CONTACTANOS POR WHATSAPP" onchange="updateButtons()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Número WhatsApp (sin +506)</label>
                                <input type="text" id="whatsappNumber" class="form-input" value="88845533" onchange="updateButtons()">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="form-group">
                                <label class="form-label">Texto Botón Productos</label>
                                <input type="text" id="productWhatsappText" class="form-input" value="CONSULTAR" onchange="updateButtons()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Texto Botón Waze</label>
                                <input type="text" id="wazeButtonText" class="form-input" value="ABRIR EN WAZE" onchange="updateButtons()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">URL Waze</label>
                                <input type="url" id="wazeUrl" class="form-input" value="https://waze.com/ul/hd1u0rps2s" onchange="updateButtons()">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="form-group">
                                <label class="form-label">Texto Canal Promociones</label>
                                <input type="text" id="promoButtonText" class="form-input" value="CANAL PROMOS" onchange="updateButtons()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">URL Canal Promociones</label>
                                <input type="url" id="promoUrl" class="form-input" value="https://whatsapp.com/channel/0029VaAqJvs8feKtE8dJPv1h" onchange="updateButtons()">
                            </div>
                        </div>

                        <div class="text-center">
                            <button onclick="updateButtons()" class="btn-admin success text-lg">
                                <i class="fas fa-save"></i>Guardar Configuración de Botones
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Logos Tab -->
            <div id="logosTab" class="admin-content">
                <div class="admin-card">
                    <h4><i class="fas fa-image"></i>Configuración de Logos e Identidad</h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Logo Principal</h5>
                            <div class="form-group">
                                <label class="form-label">Nombre de la Tienda</label>
                                <input type="text" id="siteName" class="form-input" value="JACKETS MASTER" onchange="updateSiteInfo()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Icono Principal (Font Awesome)</label>
                                <input type="text" id="mainIcon" class="form-input" value="fas fa-motorcycle" onchange="updateSiteInfo()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Subir Logo Personalizado</label>
                                <input type="file" id="logoFile" class="form-input" accept="image/*" onchange="uploadLogo()">
                            </div>
                            <div id="logoPreview" class="mt-6 text-center">
                                <div class="w-20 h-20 bg-red-gradient rounded-xl flex items-center justify-center mx-auto shadow-lg">
                                    <i class="fas fa-motorcycle text-white text-3xl" id="currentIcon"></i>
                                </div>
                                <p class="text-gray-400 text-sm mt-2">Vista previa del logo</p>
                            </div>
                        </div>
                        
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Favicon (Icono del Navegador)</h5>
                            <div class="form-group">
                                <label class="form-label">Subir Favicon (16x16 o 32x32 px)</label>
                                <input type="file" id="faviconFile" class="form-input" accept="image/*" onchange="uploadFavicon()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">O usar SVG personalizado</label>
                                <textarea id="faviconSvg" class="form-textarea" rows="6" placeholder="Pega aquí el código SVG del favicon" onchange="updateFavicon()"></textarea>
                            </div>
                            <div id="faviconPreview" class="mt-6 text-center">
                                <div class="w-12 h-12 border-2 border-gray-400 rounded-lg mx-auto bg-white flex items-center justify-center shadow-lg">
                                    <img id="currentFavicon" src="" alt="Favicon actual" class="w-8 h-8">
                                </div>
                                <p class="text-gray-400 text-sm mt-2">Vista previa del favicon</p>
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-8">
                        <button onclick="saveLogos()" class="btn-admin success text-lg">
                            <i class="fas fa-save"></i>Guardar Configuración de Logos
                        </button>
                    </div>
                </div>
            </div>

            <!-- Export Tab -->
            <div id="exportTab" class="admin-content active">
                <div class="admin-card">
                    <h4><i class="fas fa-download"></i>Exportar para GitHub Pages</h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Configuración del Repositorio</h5>
                            <div class="form-group">
                                <label class="form-label">Nombre del Repositorio</label>
                                <input type="text" id="repoName" class="form-input" value="jackets-master-website" placeholder="nombre-del-repo">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Descripción</label>
                                <textarea id="repoDescription" class="form-textarea" rows="3" placeholder="Descripción del proyecto">Sitio web de Jackets Master - Equipamiento motociclista premium en Los Yoses, Costa Rica</textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Autor</label>
                                <input type="text" id="authorName" class="form-input" value="Jackets Master" placeholder="Tu nombre">
                            </div>
                        </div>
                        
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Opciones de Exportación</h5>
                            <div class="space-y-4">
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" id="includeReadme" checked="" class="w-5 h-5 text-red-600">
                                    <span class="text-white">Incluir README.md</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" id="includeGitignore" checked="" class="w-5 h-5 text-red-600">
                                    <span class="text-white">Incluir .gitignore</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" id="includeLicense" checked="" class="w-5 h-5 text-red-600">
                                    <span class="text-white">Incluir LICENSE</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" id="optimizeImages" checked="" class="w-5 h-5 text-red-600">
                                    <span class="text-white">Optimizar imágenes</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 text-center">
                        <button class="btn-admin success text-xl px-12 py-4">
                            <i class="fas fa-rocket"></i>Generar Archivos para GitHub
                        </button>
                    </div>
                </div>

                <!-- Backup & Import -->
                <div class="admin-card">
                    <h4><i class="fas fa-database"></i>Respaldo e Importación de Datos</h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Crear Respaldo</h5>
                            <p class="text-gray-400 text-sm mb-6">Descarga todos tus datos en formato JSON para respaldo o migración.</p>
                            <button onclick="createBackup()" class="btn-admin success w-full text-lg">
                                <i class="fas fa-download"></i>Descargar Respaldo Completo
                            </button>
                        </div>
                        
                        <div>
                            <h5 class="text-white font-semibold mb-4 text-lg">Importar Datos</h5>
                            <p class="text-gray-400 text-sm mb-6">Restaura datos desde un archivo de respaldo.</p>
                            <input type="file" id="importFile" accept=".json" class="form-input mb-4">
                            <button onclick="importBackup()" class="btn-admin warning w-full text-lg">
                                <i class="fas fa-upload"></i>Importar Respaldo
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header id="mainHeader" class="bg-brand-gradient text-white shadow-2xl sticky top-0 z-30">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <div id="logoContainer" class="w-14 h-14 bg-red-gradient rounded-xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-motorcycle text-white text-2xl" id="headerIcon"></i>
                    </div>
                    <h1 id="siteTitleHeader" class="text-2xl font-bold brand-title">JACKETS MASTER</h1>
                </div>
                <div class="flex items-center space-x-6">
                    <nav class="hidden md:flex space-x-8">
                        <a href="#inicio" class="hover:text-red-400 transition-colors font-bold text-lg brand-subtitle">INICIO</a>
                        <a href="#productos" class="hover:text-red-400 transition-colors font-bold text-lg brand-subtitle">PRODUCTOS</a>
                        <a href="#contacto" class="hover:text-red-400 transition-colors font-bold text-lg brand-subtitle">CONTACTO</a>
                    </nav>
                    <button onclick="showLogin()" class="hidden md:flex items-center gap-2 text-gray-400 hover:text-red-400 transition-colors bg-gray-800 bg-opacity-50 px-3 py-2 rounded-lg border border-gray-600 hover:border-red-500">
                        <i class="fas fa-cog text-sm"></i>
                        <span class="text-sm font-semibold">ADMIN</span>
                    </button>
                    <button class="md:hidden text-3xl" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-red-500"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="hidden bg-black bg-opacity-95 text-white md:hidden">
        <div class="container mx-auto px-4 py-4 space-y-4">
            <a href="#inicio" class="block hover:text-red-400 text-xl font-bold brand-subtitle">INICIO</a>
            <a href="#productos" class="block hover:text-red-400 text-xl font-bold brand-subtitle">PRODUCTOS</a>
            <a href="#contacto" class="block hover:text-red-400 text-xl font-bold brand-subtitle">CONTACTO</a>
            <button onclick="showLogin(); toggleMobileMenu();" class="flex items-center gap-3 text-gray-400 hover:text-red-400 transition-colors bg-gray-800 bg-opacity-50 px-4 py-3 rounded-lg border border-gray-600 hover:border-red-500 w-full">
                <i class="fas fa-cog"></i>
                <span class="font-bold text-lg brand-subtitle">PANEL ADMIN</span>
            </button>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="inicio" class="bg-brand-gradient text-white py-8 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-r from-red-900/20 to-transparent"></div>
        <div class="container mx-auto px-4 text-center relative z-10">
            <div class="max-w-5xl mx-auto p-6 rounded-2xl">
                <h2 id="heroTitle" class="text-5xl md:text-7xl mb-6 brand-title">JACKETS MASTER</h2>
                <p id="heroDescription" class="text-xl mb-8 max-w-3xl mx-auto font-semibold brand-subtitle">Descubra nuestra colección de equipamiento motociclista de las mejores marcas: Cortech, TourMaster, Joe Rocket y Noru. Protección, estilo y durabilidad para los verdaderos riders de Los Yoses.</p>
                <a href="https://wa.me/50688845533" target="_blank" rel="noopener noreferrer" id="heroButton" class="bg-red-gradient text-white px-8 py-4 rounded-xl text-xl font-bold inline-block shadow-2xl hover:scale-105 transition-all duration-300" onclick="trackClick('hero_whatsapp')">
                    <i class="fas fa-whatsapp mr-3"></i><span id="heroButtonText">CONTACTANOS POR WHATSAPP</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="productos" class="py-8 bg-gray-100">
        <div class="container mx-auto px-4">
            <h2 id="productsTitle" class="text-5xl text-center mb-8 brand-title">NUESTROS PRODUCTOS</h2>
            
            <!-- Search and Filters -->
            <div class="bg-white bg-opacity-95 p-6 rounded-2xl shadow-xl mb-8">
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                    <div>
                        <label class="block font-bold mb-2 text-gray-800">BUSCAR:</label>
                        <input type="text" id="searchInput" placeholder="Buscar productos..." class="w-full px-4 py-3 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 border-2 border-gray-200" onkeyup="filterProducts()">
                    </div>
                    <div>
                        <label class="block font-bold mb-2 text-gray-800">CATEGORÍA:</label>
                        <select id="categoryFilter" class="w-full px-4 py-3 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 border-2 border-gray-200" onchange="filterProducts()"><option value="">Todas las categorías</option><option value="cascos">Cascos</option><option value="botas">Botas</option><option value="rodilleras">Rodilleras</option><option value="protecciones">Protecciones</option><option value="maletines">Maletines</option><option value="otros">Otros</option></select>
                    </div>
                    <div>
                        <label class="block font-bold mb-2 text-gray-800">MARCA:</label>
                        <select id="brandFilter" class="w-full px-4 py-3 bg-white rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 border-2 border-gray-200" onchange="filterProducts()"><option value="">Todas las marcas</option><option value="cortech">CORTECH</option><option value="tourmaster">TOURMASTER</option><option value="joerocket">JOE ROCKET</option><option value="noru">NORU</option></select>
                    </div>
                    <div>
                        <label class="block font-bold mb-2 text-gray-800">RANGO DE PRECIOS:</label>
                        <div class="relative">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-sm font-semibold text-gray-700">₡0</span>
                                <div class="flex-1 relative">
                                    <input type="range" id="minPriceRange" min="0" max="200000" step="10000" value="0" class="absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb-red" oninput="updatePriceFilter()">
                                    <input type="range" id="maxPriceRange" min="0" max="200000" step="10000" value="200000" class="absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb-red" oninput="updatePriceFilter()">
                                </div>
                                <span class="text-sm font-semibold text-gray-700">₡200K+</span>
                            </div>
                            <div class="text-center">
                                <span id="priceRangeDisplay" class="text-sm font-bold text-red-600">₡0 - ₡200,000+</span>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-end">
                        <button onclick="clearFilters()" class="w-full bg-gray-600 text-white py-3 px-4 rounded-xl hover:bg-gray-700 transition-colors font-bold">
                            <i class="fas fa-refresh mr-2"></i>LIMPIAR FILTROS
                        </button>
                    </div>
                </div>
            </div>

            <!-- Products Grid -->
            <div id="productsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Jacket Racing Pro" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    MARCA
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CATEGORÍA
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Jacket Racing Pro</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Jacket de cuero premium para racing con protecciones CE y diseño aerodinámico.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡179.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    S, M, L, XL
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Jacket%20Racing%20Pro - ₡179.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_1')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Guantes Touring Comfort" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    TOURMASTER
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CATEGORÍA
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Guantes Touring Comfort</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Guantes impermeables con protección en nudillos y palma reforzada.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡54.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    S, M, L, XL
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Guantes%20Touring%20Comfort - ₡54.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_2')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Pantalones Kevlar Pro" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CORTECH
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CATEGORÍA
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Pantalones Kevlar Pro</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Pantalones con refuerzos de kevlar y protecciones removibles en rodillas.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡119.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    30, 32, 34, 36, 38
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Pantalones%20Kevlar%20Pro - ₡119.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_3')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Rodilleras Deportivas" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    NORU
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    Rodilleras
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Rodilleras Deportivas</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Protección para rodillas con sistema de ventilación y ajuste ergonómico.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡27.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    S, M, L
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Rodilleras%20Deportivas - ₡27.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_4')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Protecciones Espalda" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    MARCA
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    Protecciones
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Protecciones Espalda</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Protector de espalda CE nivel 2 con sistema de ventilación avanzado.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡79.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    S, M, L, XL
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Protecciones%20Espalda - ₡79.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_5')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Bolso Tanque Magnético" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    TOURMASTER
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CATEGORÍA
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Bolso Tanque Magnético</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Bolso magnético para tanque con compartimentos impermeables y ventana táctil.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡47.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    Único
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Bolso%20Tanque%20Magn%C3%A9tico - ₡47.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_6')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80" alt="Liner Térmico Invierno" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CORTECH
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CATEGORÍA
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Liner Térmico Invierno</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Forro térmico removible para jackets con tecnología de regulación térmica.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡23.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    S, M, L, XL
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Liner%20T%C3%A9rmico%20Invierno - ₡23.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_7')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwJ3igiGftbxMSmKsR83IX9LPT9d1rQqzF6g&amp;s" alt="Jacket Racing Pro (Copia)" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=800&amp;q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    TOURMASTER
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    CATEGORÍA
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">Jacket Racing Pro (Copia)</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">Jacket de cuero premium para racing con protecciones CE y diseño aerodinámico.</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡179.990</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    S, M, L, XL
                                </div>
                            </div>
                            <a href="https://wa.me/50688845533?text=Hola! Me interesa el producto: Jacket%20Racing%20Pro%20(Copia) - ₡179.990" target="_blank" rel="noopener noreferrer" class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center" onclick="trackClick('product_1759425604608')">
                                <i class="fab fa-whatsapp mr-2"></i>CONSULTAR
                            </a>
                        </div>
                    </div>
                </div>
        </div>
    </section>

    <!-- Brands Section -->
    <section id="brandsSection" class="py-8 bg-brand-gradient">
        <div class="container mx-auto px-4">
            <h2 id="brandsTitle" class="text-4xl text-center mb-8 text-white brand-title">MARCAS PREMIUM</h2>
            <div id="brandsGrid" class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="CORTECH" class="w-20 h-20 mx-auto mb-4 rounded-xl object-cover shadow-lg" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <h3 class="text-xl font-bold text-gray-800 brand-title">CORTECH</h3>
                            <a href="https://cortech.com" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-800 text-sm font-semibold mt-2 inline-block">Visitar Sitio Web</a>
                        </div>
                    </div>
                
                    <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="TOURMASTER" class="w-20 h-20 mx-auto mb-4 rounded-xl object-cover shadow-lg" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <h3 class="text-xl font-bold text-gray-800 brand-title">TOURMASTER</h3>
                            <a href="https://tourmaster.com" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-800 text-sm font-semibold mt-2 inline-block">Visitar Sitio Web</a>
                        </div>
                    </div>
                
                    <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="JOE ROCKET" class="w-20 h-20 mx-auto mb-4 rounded-xl object-cover shadow-lg" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <h3 class="text-xl font-bold text-gray-800 brand-title">JOE ROCKET</h3>
                            <a href="https://joerocket.com" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-800 text-sm font-semibold mt-2 inline-block">Visitar Sitio Web</a>
                        </div>
                    </div>
                
                    <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80" alt="NORU" class="w-20 h-20 mx-auto mb-4 rounded-xl object-cover shadow-lg" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=200&amp;q=80'">
                            <h3 class="text-xl font-bold text-gray-800 brand-title">NORU</h3>
                            <a href="https://noru.com" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-800 text-sm font-semibold mt-2 inline-block">Visitar Sitio Web</a>
                        </div>
                    </div>
                </div>
            
            <div class="text-center mt-8">
                <p class="text-xl text-gray-300 mb-4 brand-subtitle">Trabajamos con las mejores marcas disponibles en Sullivans y Helmet House para ofrecerte calidad garantizada</p>
                <div class="flex justify-center space-x-8 text-gray-400">
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-shield-alt text-red-500 text-2xl"></i>
                        <span class="font-bold">Protección Certificada</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-award text-red-500 text-2xl"></i>
                        <span class="font-bold">Calidad Premium</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <i class="fas fa-store text-red-500 text-2xl"></i>
                        <span class="font-bold">Los Yoses</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contacto" class="bg-brand-gradient text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                    <h2 id="contactTitle" class="text-4xl mb-6 brand-title">CONTÁCTANOS</h2>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4">
                            <i class="fas fa-map-marker-alt text-red-500 text-2xl"></i>
                            <a href="https://www.google.com/maps/place/Jackets+Master/@9.9290393,-84.063926,17z/data=!3m1!4b1!4m6!3m5!1s0x8fa0e38bf54cc7bf:0xc835cd09d683c4ac!8m2!3d9.9290393!4d-84.0613511!16s%2Fg%2F11wtk_rf_3?entry=ttu&amp;g_ep=EgoyMDI1MDkyNC4wIKXMDSoASAFQAw%3D%3D" target="_blank" rel="noopener noreferrer" class="hover:text-red-400 transition-colors underline text-lg">San José, Los Yoses, Montes de Oca</a>
                        </div>
                        <div class="flex items-center space-x-4">
                            <i class="fas fa-phone text-red-500 text-2xl"></i>
                            <span id="contactPhone" class="text-lg">+506 8884-5533</span>
                        </div>
                        <div class="flex items-center space-x-4">
                            <i class="fas fa-envelope text-red-500 text-2xl"></i>
                            <span class="text-lg">jacketsmaster@gmail.com</span>
                        </div>
                        <div class="flex items-center space-x-4">
                            <i class="fas fa-clock text-red-500 text-2xl"></i>
                            <span class="text-lg">Lun - Vie: 11:00 AM - 6:00 PM | Sáb: 10:00 AM - 3:00 PM</span>
                        </div>
                    </div>
                    
                    <div class="mt-8">
                        <h3 class="text-2xl font-bold mb-4 brand-subtitle">SÍGUENOS</h3>
                        <div class="flex space-x-6">
                            <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" class="text-3xl hover:text-red-400 transition-colors">
                                <i class="fab fa-facebook"></i>
                            </a>
                            <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" class="text-3xl hover:text-red-400 transition-colors">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="https://x.com" target="_blank" rel="noopener noreferrer" class="text-3xl hover:text-red-400 transition-colors">
                                <i class="fab fa-x-twitter"></i>
                            </a>
                        </div>
                    </div>


                </div>
                
                <div>
                    <h3 class="text-3xl mb-6 brand-subtitle">VISÍTANOS</h3>
                    <div class="bg-gray-800 rounded-2xl p-6 shadow-2xl">
                        <h4 class="text-2xl font-bold mb-4 text-red-400 brand-subtitle">NUESTRA UBICACIÓN</h4>
                        <div class="mb-4">
                            <iframe src="https://www.google.com/maps?client=opera&amp;hs=H6Y&amp;sca_esv=9594ada01a48a169&amp;output=embed&amp;q=jacketsmaster&amp;source=lnms" width="100%" height="250" style="border:0; border-radius: 15px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                        <div class="text-center">
                            <p class="text-lg text-gray-300 mb-3">¡Le esperamos en nuestra tienda física!</p>
                            <p class="text-gray-400 mb-4">Venga a probarse los jackets y reciba asesoría personalizada de nuestros expertos.</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                                <a href="https://wa.me/50688845533" id="whatsappLink" target="_blank" rel="noopener noreferrer" class="bg-red-gradient text-white px-4 py-3 rounded-xl font-bold inline-block hover:scale-105 transition-all duration-300 shadow-lg" onclick="trackClick('contact_whatsapp')">
                                    <i class="fab fa-whatsapp mr-2"></i><span id="contactWhatsappText">WHATSAPP</span>
                                </a>
                                <a href="#" id="wazeLink" target="_blank" rel="noopener noreferrer" class="bg-blue-600 text-white px-4 py-3 rounded-xl font-bold inline-block hover:scale-105 transition-all duration-300 shadow-lg">
                                    <i class="fas fa-route mr-2"></i><span id="wazeButtonTextDisplay">ABRIR EN WAZE</span>
                                </a>
                                <a href="#" id="promoLink" target="_blank" rel="noopener noreferrer" class="bg-green-600 text-white px-4 py-3 rounded-xl font-bold inline-block hover:scale-105 transition-all duration-300 shadow-lg">
                                    <i class="fas fa-bullhorn mr-2"></i><span id="promoButtonTextDisplay">CANAL PROMOS</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="mainFooter" class="bg-brand-gradient text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <div class="flex items-center justify-center space-x-4 mb-4">
                <div id="footerLogoContainer" class="w-12 h-12 bg-red-gradient rounded-xl flex items-center justify-center shadow-lg">
                    <i class="fas fa-motorcycle text-white text-2xl" id="footerIcon"></i>
                </div>
                <span id="siteTitleFooter" class="text-3xl font-bold brand-title">JACKETS MASTER</span>
            </div>
            <p class="text-gray-400 text-lg">© 2025 Jackets Master Los Yoses. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // Global Configuration
        let config = {
            siteName: "JACKETS MASTER",
            whatsappNumber: "88845533",
            siteDescription: "Descubra nuestra colección de equipamiento motociclista de las mejores marcas: Cortech, TourMaster, Joe Rocket y Noru. Protección, estilo y durabilidad para los verdaderos riders de Los Yoses.",
            mainIcon: "fas fa-motorcycle",
            customLogo: null,
            favicon: null,
            colors: {
                bodyBg: "#000000",
                headerBg: "#000000",
                heroBg: "#1f1f1f",
                productsBg: "#f3f4f6",
                brandsBg: "#000000",
                footerBg: "#000000",
                titleColor: "#dc2626",
                textColor: "#ffffff",
                linkColor: "#dc2626",
                buttonColor: "#dc2626"
            },
            buttons: {
                mainWhatsappText: "CONTACTANOS POR WHATSAPP",
                productWhatsappText: "CONSULTAR",
                contactWhatsappText: "WHATSAPP",
                wazeButtonText: "ABRIR EN WAZE",
                wazeUrl: "https://waze.com/ul/hd1u0rps2s",
                promoButtonText: "CANAL PROMOS",
                promoUrl: "https://whatsapp.com/channel/0029VaAqJvs8feKtE8dJPv1h"
            },
            categories: {
                chaquetas: { name: "Jackets", icon: "fas fa-tshirt", status: "active" },
                guantes: { name: "Guantes", icon: "fas fa-hand-paper", status: "active" },
                pantalones: { name: "Pantalones", icon: "fas fa-user", status: "active" },
                cascos: { name: "Cascos", icon: "fas fa-hard-hat", status: "active" },
                botas: { name: "Botas", icon: "fas fa-shoe-prints", status: "active" },
                rodilleras: { name: "Rodilleras", icon: "fas fa-shield-alt", status: "active" },
                protecciones: { name: "Protecciones", icon: "fas fa-shield", status: "active" },
                maletines: { name: "Maletines", icon: "fas fa-suitcase", status: "active" },
                otros: { name: "Otros", icon: "fas fa-ellipsis-h", status: "active" }
            },
            brands: {
                cortech: {
                    name: "CORTECH",
                    url: "https://cortech.com",
                    image: "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    status: "active"
                },
                tourmaster: {
                    name: "TOURMASTER",
                    url: "https://tourmaster.com",
                    image: "https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    status: "active"
                },
                joerocket: {
                    name: "JOE ROCKET",
                    url: "https://joerocket.com",
                    image: "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    status: "active"
                },
                noru: {
                    name: "NORU",
                    url: "https://noru.com",
                    image: "https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    status: "active"
                }
            }
        };

        // Global Variables
        let products = [];
        let filteredProducts = [];
        let nextProductId = 1;
        let editingProductId = null;
        let selectedProducts = new Set();
        let currentProductImages = [];
        let analytics = {
            totalClicks: 0,
            productClicks: {},
            categoryClicks: {},
            brandClicks: {},
            recentActivity: []
        };
        let sessionTimer = 1800; // 30 minutes
        let sessionInterval;
        let isDarkMode = false;

        // Category and Brand editing variables
        let editingCategoryId = null;
        let editingBrandId = null;

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            loadAllData();
            initializeApp();
            updateAllDisplays();
            startSessionTimer();
            
            // Setup image upload
            setupImageUpload();
            
            // Setup brand image preview
            setupBrandImagePreview();
            
            // Load default products if none exist
            if (products.length === 0) {
                loadDefaultProducts();
            }
        });

        // Load default products with more examples
        function loadDefaultProducts() {
            const defaultProducts = [
                {
                    id: 1,
                    name: "Cortech Adrenaline 4.0 RR Leather Jacket",
                    price: 389990,
                    category: "chaquetas",
                    brand: "cortech",
                    sizes: ["S", "M", "L", "XL", "XXL"],
                    description: "Chaqueta de cuero premium con protecciones CE en hombros, codos y espalda. Construcción de cuero bovino de 1.2-1.4mm con perforaciones para ventilación. Ideal para touring y uso diario.",
                    images: ["https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                },
                {
                    id: 2,
                    name: "Cortech Apex V1 Textile Jacket",
                    price: 279990,
                    category: "chaquetas",
                    brand: "cortech",
                    sizes: ["S", "M", "L", "XL", "XXL"],
                    description: "Chaqueta textil 3-en-1 con membrana impermeable/transpirable. Protecciones CE incluidas, forro térmico removible y múltiples bolsillos de ventilación. Perfecta para todas las condiciones climáticas.",
                    images: ["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                },
                {
                    id: 3,
                    name: "TourMaster Intake Air 5.0 Mesh Jacket",
                    price: 199990,
                    category: "chaquetas",
                    brand: "tourmaster",
                    sizes: ["M", "L", "XL", "XXL"],
                    description: "Chaqueta de malla ultra-ventilada para clima cálido. Protecciones CE removibles, construcción resistente y múltiples bolsillos. Ideal para el clima tropical de Costa Rica.",
                    images: ["https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                },
                {
                    id: 4,
                    name: "Joe Rocket Velocity 2.0 Mesh Jacket",
                    price: 159990,
                    category: "chaquetas",
                    brand: "joerocket",
                    sizes: ["S", "M", "L", "XL"],
                    description: "Chaqueta deportiva de malla con diseño agresivo. Protecciones en hombros y codos, paneles reflectivos para visibilidad nocturna. Excelente relación calidad-precio.",
                    images: ["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                },
                {
                    id: 5,
                    name: "Cortech Scarab Winter Gloves",
                    price: 89990,
                    category: "guantes",
                    brand: "cortech",
                    sizes: ["S", "M", "L", "XL"],
                    description: "Guantes de invierno con membrana impermeable Hipora. Protección en nudillos, palma reforzada y compatibles con pantallas táctiles. Perfectos para touring de larga distancia.",
                    images: ["https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                },
                {
                    id: 6,
                    name: "TourMaster Summer Elite 3 Gloves",
                    price: 69990,
                    category: "guantes",
                    brand: "tourmaster",
                    sizes: ["S", "M", "L", "XL"],
                    description: "Guantes de verano ultra-ventilados con protección en nudillos. Construcción de cuero y malla, palma de cabra para mejor agarre. Ideales para clima cálido.",
                    images: ["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                },
                {
                    id: 7,
                    name: "Noru Kaze Full Face Helmet",
                    price: 299990,
                    category: "cascos",
                    brand: "noru",
                    sizes: ["XS", "S", "M", "L", "XL"],
                    description: "Casco integral con certificación DOT/ECE. Sistema de ventilación avanzado, visera anti-empañante y forro antibacterial removible. Diseño aerodinámico y ligero.",
                    images: ["https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                },
                {
                    id: 8,
                    name: "Joe Rocket Ballistic Revolution Pants",
                    price: 219990,
                    category: "pantalones",
                    brand: "joerocket",
                    sizes: ["30", "32", "34", "36", "38"],
                    description: "Pantalones textiles con protecciones CE en rodillas y caderas. Membrana impermeable, forro térmico removible y ventilaciones. Perfectos para touring y uso diario.",
                    images: ["https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"],
                    status: "active"
                }
            ];
            
            products = defaultProducts;
            filteredProducts = [...products];
            nextProductId = 9;
            saveAllData();
            updateAllDisplays();
        }

        // Authentication - FIXED LOGIN SYSTEM
        function showLogin() {
            const loginOverlay = document.getElementById('loginOverlay');
            if (loginOverlay) {
                loginOverlay.classList.add('show');
                setTimeout(() => {
                    const loginUser = document.getElementById('loginUser');
                    if (loginUser) {
                        loginUser.focus();
                    }
                }, 100);
            }
        }

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('loginUser').value;
            const password = document.getElementById('loginPassword').value;
            
            if (username === 'jm' && password === 'jm2024') {
                // Hide login
                const loginOverlay = document.getElementById('loginOverlay');
                loginOverlay.classList.remove('show');
                
                // Show admin panel
                const adminOverlay = document.getElementById('adminOverlay');
                adminOverlay.classList.add('active');
                
                showNotification('¡Bienvenido al panel de administración!', 'success');
                logActivity('Inicio de sesión exitoso');
                startSessionTimer();
            } else {
                document.getElementById('loginError').textContent = 'Usuario o contraseña incorrectos';
                document.getElementById('loginError').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('loginError').style.display = 'none';
                }, 3000);
            }
        });

        function closeAdminPanel() {
            const adminOverlay = document.getElementById('adminOverlay');
            const loginOverlay = document.getElementById('loginOverlay');
            
            // Hide admin panel
            adminOverlay.classList.remove('active');
            
            // Hide login overlay
            loginOverlay.classList.remove('show');
            
            clearInterval(sessionInterval);
            logActivity('Cierre de sesión');
            
            // Clear login form
            document.getElementById('loginForm').reset();
            document.getElementById('loginError').style.display = 'none';
        }

        function startSessionTimer() {
            clearInterval(sessionInterval);
            sessionTimer = 1800; // Reset to 30 minutes
            
            sessionInterval = setInterval(() => {
                sessionTimer--;
                const minutes = Math.floor(sessionTimer / 60);
                const seconds = sessionTimer % 60;
                document.getElementById('sessionTimer').textContent = 
                    `Tiempo: ${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                if (sessionTimer <= 0) {
                    closeAdminPanel();
                    showNotification('Sesión expirada por inactividad', 'warning');
                }
            }, 1000);
        }

        // Notifications System
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'} mr-3"></i>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => notification.classList.add('show'), 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => document.body.removeChild(notification), 400);
            }, 4000);
        }

        // Tab Management
        function switchTab(tabName) {
            document.querySelectorAll('.admin-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName + 'Tab').classList.add('active');
            event.target.classList.add('active');
            
            // Load tab-specific data
            if (tabName === 'dashboard') {
                updateDashboard();
            } else if (tabName === 'categories') {
                loadCategoriesList();
            } else if (tabName === 'brands') {
                loadBrandsList();
            }
        }

        // Data Management
        function loadAllData() {
            const savedData = localStorage.getItem('jacketsmaster_data');
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    if (data.products) products = data.products;
                    if (data.config) config = { ...config, ...data.config };
                    if (data.analytics) analytics = { ...analytics, ...data.analytics };
                    
                    filteredProducts = [...products];
                    nextProductId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
                } catch (e) {
                    console.error('Error loading data:', e);
                }
            }
        }

        function saveAllData() {
            try {
                const data = {
                    products,
                    config,
                    analytics,
                    lastSaved: new Date().toISOString()
                };
                localStorage.setItem('jacketsmaster_data', JSON.stringify(data));
                showNotification('Datos guardados correctamente', 'success');
            } catch (e) {
                console.error('Error saving data:', e);
                showNotification('Error al guardar los datos', 'error');
            }
        }

        // Initialize App
        function initializeApp() {
            loadConfigValues();
            updateStyles();
            updateSiteInfo();
            updateButtons();
            populateSelects();
            updateStats();
        }

        function updateAllDisplays() {
            displayProducts(filteredProducts);
            displayBrands();
            updateAdminProductList();
            updateStats();
        }

        // FIXED IMPORT FUNCTION - Returns to home and updates page
        function importBackup() {
            const file = document.getElementById('importFile').files[0];
            if (!file) {
                showNotification('Selecciona un archivo de respaldo', 'warning');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    if (data.products) products = data.products;
                    if (data.config) config = { ...config, ...data.config };
                    if (data.analytics) analytics = { ...analytics, ...data.analytics };
                    
                    filteredProducts = [...products];
                    nextProductId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
                    
                    saveAllData();
                    
                    // Close admin panel and return to home
                    closeAdminPanel();
                    
                    // Update entire page after closing panel
                    setTimeout(() => {
                        updateAllDisplays();
                        initializeApp();
                        
                        // Scroll to home section
                        document.getElementById('inicio').scrollIntoView({ behavior: 'smooth' });
                        
                        showNotification('Respaldo importado exitosamente - Página actualizada', 'success');
                        logActivity('Importación de respaldo completada');
                    }, 500);
                    
                } catch (error) {
                    showNotification('Error al leer el archivo de respaldo', 'error');
                }
            };
            reader.readAsText(file);
        }

        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        }

        // Analytics and Activity Logging
        function trackClick(action) {
            analytics.totalClicks++;
            logActivity(`Click en ${action}`);
            saveAllData();
        }

        function logActivity(action) {
            const timestamp = new Date().toLocaleString('es-CR');
            analytics.recentActivity.unshift({
                action,
                timestamp,
                id: Date.now()
            });
            
            // Keep only last 50 activities
            if (analytics.recentActivity.length > 50) {
                analytics.recentActivity = analytics.recentActivity.slice(0, 50);
            }
        }

        // Placeholder functions for missing functionality
        function loadConfigValues() {
            // Load configuration values into form fields
            if (document.getElementById('siteName')) {
                document.getElementById('siteName').value = config.siteName;
            }
            if (document.getElementById('whatsappNumber')) {
                document.getElementById('whatsappNumber').value = config.whatsappNumber;
            }
        }

        function updateStyles() {
            // Update CSS custom properties based on config
            const root = document.documentElement;
            if (config.colors) {
                root.style.setProperty('--brand-color', config.colors.titleColor);
            }
        }

        function updateSiteInfo() {
            // Update site name and icons throughout the page
            const elements = document.querySelectorAll('#siteTitleHeader, #siteTitleFooter');
            elements.forEach(el => {
                if (el) el.textContent = config.siteName;
            });
        }

        function updateButtons() {
            // Update button texts and links
            const heroButton = document.getElementById('heroButtonText');
            if (heroButton) {
                heroButton.textContent = config.buttons.mainWhatsappText;
            }
            
            const whatsappLink = document.getElementById('whatsappLink');
            if (whatsappLink) {
                whatsappLink.href = `https://wa.me/506${config.whatsappNumber}`;
            }
        }

        function populateSelects() {
            // Populate category and brand selects
            const categorySelect = document.getElementById('categoryFilter');
            const brandSelect = document.getElementById('brandFilter');
            const productCategorySelect = document.getElementById('productCategory');
            const productBrandSelect = document.getElementById('productBrand');
            
            if (categorySelect) {
                categorySelect.innerHTML = '<option value="">Todas las categorías</option>';
                Object.keys(config.categories).forEach(catId => {
                    const cat = config.categories[catId];
                    if (cat.status === 'active') {
                        categorySelect.innerHTML += `<option value="${catId}">${cat.name}</option>`;
                    }
                });
            }
            
            if (brandSelect) {
                brandSelect.innerHTML = '<option value="">Todas las marcas</option>';
                Object.keys(config.brands).forEach(brandId => {
                    const brand = config.brands[brandId];
                    if (brand.status === 'active') {
                        brandSelect.innerHTML += `<option value="${brandId}">${brand.name}</option>`;
                    }
                });
            }
            
            if (productCategorySelect) {
                productCategorySelect.innerHTML = '<option value="">Seleccionar categoría</option>';
                Object.keys(config.categories).forEach(catId => {
                    const cat = config.categories[catId];
                    productCategorySelect.innerHTML += `<option value="${catId}">${cat.name}</option>`;
                });
            }
            
            if (productBrandSelect) {
                productBrandSelect.innerHTML = '<option value="">Seleccionar marca</option>';
                Object.keys(config.brands).forEach(brandId => {
                    const brand = config.brands[brandId];
                    productBrandSelect.innerHTML += `<option value="${brandId}">${brand.name}</option>`;
                });
            }
        }

        function updateStats() {
            // Update statistics in dashboard
            const totalProductsEl = document.getElementById('totalProducts');
            const totalCategoriesEl = document.getElementById('totalCategories');
            const totalBrandsEl = document.getElementById('totalBrands');
            const totalClicksEl = document.getElementById('totalClicks');
            
            if (totalProductsEl) totalProductsEl.textContent = products.length;
            if (totalCategoriesEl) totalCategoriesEl.textContent = Object.keys(config.categories).length;
            if (totalBrandsEl) totalBrandsEl.textContent = Object.keys(config.brands).length;
            if (totalClicksEl) totalClicksEl.textContent = analytics.totalClicks;
        }

        function displayProducts(productsToShow) {
            const grid = document.getElementById('productsGrid');
            if (!grid) return;
            
            grid.innerHTML = productsToShow.map(product => {
                const category = config.categories[product.category];
                const brand = config.brands[product.brand];
                const mainImage = product.images && product.images.length > 0 ? product.images[0] : 'https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                
                return `
                    <div class="product-card">
                        <div class="relative overflow-hidden">
                            <img src="${mainImage}" alt="${product.name}" class="product-image" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                            <div class="absolute top-4 left-4">
                                <span class="bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    ${brand ? brand.name : 'MARCA'}
                                </span>
                            </div>
                            <div class="absolute top-4 right-4">
                                <span class="bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-sm font-bold">
                                    ${category ? category.name : 'CATEGORÍA'}
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">${product.name}</h3>
                            <p class="text-gray-600 mb-4 text-sm line-clamp-3">${product.description}</p>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-3xl font-bold text-red-600">₡${product.price.toLocaleString()}</span>
                                <div class="text-sm text-gray-500">
                                    <i class="fas fa-ruler-combined mr-1"></i>
                                    ${product.sizes.join(', ')}
                                </div>
                            </div>
                            <a href="https://wa.me/506${config.whatsappNumber}?text=Hola! Me interesa el producto: ${encodeURIComponent(product.name)} - ₡${product.price.toLocaleString()}" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               class="w-full bg-red-gradient text-white py-3 px-6 rounded-xl font-bold hover:scale-105 transition-all duration-300 shadow-lg inline-block text-center"
                               onclick="trackClick('product_${product.id}')">
                                <i class="fab fa-whatsapp mr-2"></i>${config.buttons.productWhatsappText}
                            </a>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function displayBrands() {
            const grid = document.getElementById('brandsGrid');
            if (!grid) return;
            
            grid.innerHTML = Object.keys(config.brands).map(brandId => {
                const brand = config.brands[brandId];
                if (brand.status !== 'active') return '';
                
                return `
                    <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105">
                        <div class="text-center">
                            <img src="${brand.image}" alt="${brand.name}" class="w-20 h-20 mx-auto mb-4 rounded-xl object-cover shadow-lg" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80'">
                            <h3 class="text-xl font-bold text-gray-800 brand-title">${brand.name}</h3>
                            ${brand.url ? `<a href="${brand.url}" target="_blank" rel="noopener noreferrer" class="text-red-600 hover:text-red-800 text-sm font-semibold mt-2 inline-block">Visitar Sitio Web</a>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const brandFilter = document.getElementById('brandFilter').value;
            const minPrice = parseInt(document.getElementById('minPriceRange').value);
            const maxPrice = parseInt(document.getElementById('maxPriceRange').value);
            
            filteredProducts = products.filter(product => {
                const matchesSearch = product.name.toLowerCase().includes(searchTerm) || 
                                    product.description.toLowerCase().includes(searchTerm);
                const matchesCategory = !categoryFilter || product.category === categoryFilter;
                const matchesBrand = !brandFilter || product.brand === brandFilter;
                const matchesPrice = product.price >= minPrice && (maxPrice >= 200000 ? true : product.price <= maxPrice);
                const isActive = product.status === 'active';
                
                return matchesSearch && matchesCategory && matchesBrand && matchesPrice && isActive;
            });
            
            displayProducts(filteredProducts);
        }

        function updatePriceFilter() {
            const minPriceEl = document.getElementById('minPriceRange');
            const maxPriceEl = document.getElementById('maxPriceRange');
            
            if (!minPriceEl || !maxPriceEl) return;
            
            let minPrice = parseInt(minPriceEl.value);
            let maxPrice = parseInt(maxPriceEl.value);
            
            // Ensure min is not greater than max
            if (minPrice > maxPrice) {
                const temp = minPrice;
                minPrice = maxPrice;
                maxPrice = temp;
                minPriceEl.value = minPrice;
                maxPriceEl.value = maxPrice;
            }
            
            const displayEl = document.getElementById('priceRangeDisplay');
            if (displayEl) {
                displayEl.textContent = 
                    `₡${minPrice.toLocaleString()} - ${maxPrice >= 200000 ? '₡200,000+' : '₡' + maxPrice.toLocaleString()}`;
            }
            
            filterProducts();
        }

        function clearFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('categoryFilter').value = '';
            document.getElementById('brandFilter').value = '';
            document.getElementById('minPriceRange').value = 0;
            document.getElementById('maxPriceRange').value = 200000;
            document.getElementById('priceRangeDisplay').textContent = '₡0 - ₡200,000+';
            
            filteredProducts = [...products];
            displayProducts(filteredProducts);
        }

        // Admin functionality - FIXED IMPLEMENTATIONS
        function updateAdminProductList() {
            const container = document.getElementById('adminProductList');
            if (!container) return;
            
            container.innerHTML = products.map(product => {
                const category = config.categories[product.category];
                const brand = config.brands[product.brand];
                const statusClass = product.status === 'active' ? 'status-active' : 'status-inactive';
                const mainImage = product.images && product.images.length > 0 ? product.images[0] : 'https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80';
                
                return `
                    <div class="admin-card p-4">
                        <div class="flex items-center gap-4">
                            <input type="checkbox" class="product-checkbox w-5 h-5" value="${product.id}" onchange="toggleProductSelection(${product.id})">
                            <img src="${mainImage}" alt="${product.name}" class="w-16 h-16 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80'">
                            <div class="flex-1">
                                <h5 class="text-white font-bold text-lg">${product.name}</h5>
                                <p class="text-gray-400 text-sm">${category ? category.name : 'Sin categoría'} - ${brand ? brand.name : 'Sin marca'}</p>
                                <p class="text-red-400 font-bold">₡${product.price.toLocaleString()}</p>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="${statusClass}">${product.status === 'active' ? 'Activo' : 'Inactivo'}</span>
                                <button onclick="editProduct(${product.id})" class="btn-admin info">
                                    <i class="fas fa-edit"></i>Editar
                                </button>
                                <button onclick="toggleProductStatus(${product.id})" class="btn-admin ${product.status === 'active' ? 'warning' : 'success'}">
                                    <i class="fas fa-${product.status === 'active' ? 'eye-slash' : 'eye'}"></i>
                                    ${product.status === 'active' ? 'Desactivar' : 'Activar'}
                                </button>
                                <button onclick="deleteProduct(${product.id})" class="btn-admin danger">
                                    <i class="fas fa-trash"></i>Eliminar
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('productCount').textContent = products.length;
        }

        function updateDashboard() {
            // Update top products
            const topProductsContainer = document.getElementById('topProducts');
            if (topProductsContainer) {
                const topProducts = products.slice(0, 5);
                topProductsContainer.innerHTML = topProducts.map(product => `
                    <div class="flex justify-between items-center bg-gray-700 p-3 rounded-lg">
                        <span class="text-white">${product.name}</span>
                        <span class="text-red-400 font-bold">₡${product.price.toLocaleString()}</span>
                    </div>
                `).join('');
            }
            
            // Update top categories
            const topCategoriesContainer = document.getElementById('topCategories');
            if (topCategoriesContainer) {
                const categoryStats = Object.keys(config.categories).map(catId => {
                    const category = config.categories[catId];
                    const count = products.filter(p => p.category === catId).length;
                    return { name: category.name, count };
                }).sort((a, b) => b.count - a.count).slice(0, 5);
                
                topCategoriesContainer.innerHTML = categoryStats.map(cat => `
                    <div class="flex justify-between items-center bg-gray-700 p-3 rounded-lg">
                        <span class="text-white">${cat.name}</span>
                        <span class="text-blue-400 font-bold">${cat.count} productos</span>
                    </div>
                `).join('');
            }
            
            // Update recent activity
            const recentActivityContainer = document.getElementById('recentActivity');
            if (recentActivityContainer) {
                recentActivityContainer.innerHTML = analytics.recentActivity.slice(0, 10).map(activity => `
                    <div class="flex justify-between items-center bg-gray-700 p-3 rounded-lg">
                        <span class="text-white">${activity.action}</span>
                        <span class="text-gray-400 text-sm">${activity.timestamp}</span>
                    </div>
                `).join('');
            }
        }

        function loadCategoriesList() {
            const container = document.getElementById('categoriesList');
            if (!container) return;
            
            container.innerHTML = Object.keys(config.categories).map(catId => {
                const category = config.categories[catId];
                const productCount = products.filter(p => p.category === catId).length;
                const statusClass = category.status === 'active' ? 'status-active' : 'status-inactive';
                
                return `
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <i class="${category.icon} text-red-400 text-xl"></i>
                                <div>
                                    <h6 class="text-white font-bold">${category.name}</h6>
                                    <p class="text-gray-400 text-sm">ID: ${catId} • ${productCount} productos</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="${statusClass}">${category.status === 'active' ? 'Activa' : 'Inactiva'}</span>
                                <button onclick="editCategory('${catId}')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleCategoryStatus('${catId}')" class="btn-admin ${category.status === 'active' ? 'warning' : 'success'} text-sm">
                                    <i class="fas fa-${category.status === 'active' ? 'eye-slash' : 'eye'}"></i>
                                </button>
                                <button onclick="deleteCategory('${catId}')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function loadBrandsList() {
            const container = document.getElementById('brandsList');
            if (!container) return;
            
            container.innerHTML = Object.keys(config.brands).map(brandId => {
                const brand = config.brands[brandId];
                const productCount = products.filter(p => p.brand === brandId).length;
                const statusClass = brand.status === 'active' ? 'status-active' : 'status-inactive';
                
                return `
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <div class="flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <img src="${brand.image}" alt="${brand.name}" class="w-12 h-12 rounded-lg object-cover" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80'">
                                <div>
                                    <h6 class="text-white font-bold">${brand.name}</h6>
                                    <p class="text-gray-400 text-sm">ID: ${brandId} • ${productCount} productos</p>
                                    ${brand.url ? `<a href="${brand.url}" target="_blank" class="text-blue-400 text-xs hover:underline">Sitio Web</a>` : ''}
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="${statusClass}">${brand.status === 'active' ? 'Activa' : 'Inactiva'}</span>
                                <button onclick="editBrand('${brandId}')" class="btn-admin info text-sm">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button onclick="toggleBrandStatus('${brandId}')" class="btn-admin ${brand.status === 'active' ? 'warning' : 'success'} text-sm">
                                    <i class="fas fa-${brand.status === 'active' ? 'eye-slash' : 'eye'}"></i>
                                </button>
                                <button onclick="deleteBrand('${brandId}')" class="btn-admin danger text-sm">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function setupImageUpload() {
            // Setup image upload functionality
        }

        function setupBrandImagePreview() {
            // Setup brand image preview
        }

        function createBackup() {
            // Primero cerrar el panel de admin y volver al inicio
            closeAdminPanel();
            
            // Scroll al inicio
            document.getElementById('inicio').scrollIntoView({ behavior: 'smooth' });
            
            // Mostrar notificación de preparación
            showNotification('Preparando respaldo...', 'info');
            
            // Crear y descargar el respaldo después de un breve retraso
            setTimeout(() => {
                const data = {
                    products,
                    config,
                    analytics,
                    exportDate: new Date().toISOString(),
                    version: "1.0"
                };
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `jackets-master-backup-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showNotification('¡Respaldo descargado exitosamente!', 'success');
                logActivity('Respaldo creado y descargado');
            }, 1000);
        }

        // Product Management Functions
        function editProduct(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            editingProductId = id;
            document.getElementById('editProductId').value = id;
            document.getElementById('productName').value = product.name;
            document.getElementById('productPrice').value = product.price;
            document.getElementById('productCategory').value = product.category;
            document.getElementById('productBrand').value = product.brand;
            document.getElementById('productSizes').value = product.sizes.join(',');
            document.getElementById('productDescription').value = product.description;
            document.getElementById('productStatus').value = product.status;
            
            currentProductImages = [...product.images];
            updateImagePreview();
            
            // Switch to products tab
            switchTab('products');
            document.querySelector('.admin-tab[onclick="switchTab(\'products\')"]').click();
            
            showNotification('Producto cargado para edición', 'info');
        }

        function toggleProductStatus(id) {
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            product.status = product.status === 'active' ? 'inactive' : 'active';
            saveAllData();
            updateAllDisplays();
            showNotification(`Producto ${product.status === 'active' ? 'activado' : 'desactivado'}`, 'success');
        }

        function deleteProduct(id) {
            if (!confirm('¿Estás seguro de eliminar este producto?')) return;
            
            products = products.filter(p => p.id !== id);
            filteredProducts = filteredProducts.filter(p => p.id !== id);
            saveAllData();
            updateAllDisplays();
            showNotification('Producto eliminado', 'success');
        }

        function toggleProductSelection(id) {
            if (selectedProducts.has(id)) {
                selectedProducts.delete(id);
            } else {
                selectedProducts.add(id);
            }
        }

        function selectAllProducts() {
            const checkboxes = document.querySelectorAll('.product-checkbox');
            const allSelected = Array.from(checkboxes).every(cb => cb.checked);
            
            checkboxes.forEach(cb => {
                cb.checked = !allSelected;
                const id = parseInt(cb.value);
                if (!allSelected) {
                    selectedProducts.add(id);
                } else {
                    selectedProducts.delete(id);
                }
            });
        }

        function bulkActivate() {
            if (selectedProducts.size === 0) {
                showNotification('Selecciona productos primero', 'warning');
                return;
            }
            
            selectedProducts.forEach(id => {
                const product = products.find(p => p.id === id);
                if (product) product.status = 'active';
            });
            
            saveAllData();
            updateAllDisplays();
            selectedProducts.clear();
            showNotification(`${selectedProducts.size} productos activados`, 'success');
        }

        function bulkDeactivate() {
            if (selectedProducts.size === 0) {
                showNotification('Selecciona productos primero', 'warning');
                return;
            }
            
            selectedProducts.forEach(id => {
                const product = products.find(p => p.id === id);
                if (product) product.status = 'inactive';
            });
            
            saveAllData();
            updateAllDisplays();
            selectedProducts.clear();
            showNotification(`${selectedProducts.size} productos desactivados`, 'success');
        }

        function bulkDelete() {
            if (selectedProducts.size === 0) {
                showNotification('Selecciona productos primero', 'warning');
                return;
            }
            
            if (!confirm(`¿Eliminar ${selectedProducts.size} productos seleccionados?`)) return;
            
            products = products.filter(p => !selectedProducts.has(p.id));
            filteredProducts = filteredProducts.filter(p => !selectedProducts.has(p.id));
            
            saveAllData();
            updateAllDisplays();
            selectedProducts.clear();
            showNotification('Productos eliminados', 'success');
        }

        // Category Management Functions
        function editCategory(id) {
            const category = config.categories[id];
            if (!category) return;
            
            editingCategoryId = id;
            document.getElementById('categoryId').value = id;
            document.getElementById('categoryName').value = category.name;
            document.getElementById('categoryIcon').value = category.icon;
            document.getElementById('categoryStatus').value = category.status;
            
            showNotification('Categoría cargada para edición', 'info');
        }

        function toggleCategoryStatus(id) {
            if (!config.categories[id]) return;
            
            config.categories[id].status = config.categories[id].status === 'active' ? 'inactive' : 'active';
            saveAllData();
            loadCategoriesList();
            populateSelects();
            showNotification(`Categoría ${config.categories[id].status === 'active' ? 'activada' : 'desactivada'}`, 'success');
        }

        function deleteCategory(id) {
            if (!confirm('¿Eliminar esta categoría? Los productos asociados quedarán sin categoría.')) return;
            
            delete config.categories[id];
            saveAllData();
            loadCategoriesList();
            populateSelects();
            updateAllDisplays();
            showNotification('Categoría eliminada', 'success');
        }

        // Brand Management Functions
        function editBrand(id) {
            const brand = config.brands[id];
            if (!brand) return;
            
            editingBrandId = id;
            document.getElementById('brandId').value = id;
            document.getElementById('brandName').value = brand.name;
            document.getElementById('brandUrl').value = brand.url || '';
            document.getElementById('brandImage').value = brand.image || '';
            document.getElementById('brandStatus').value = brand.status;
            
            showNotification('Marca cargada para edición', 'info');
        }

        function toggleBrandStatus(id) {
            if (!config.brands[id]) return;
            
            config.brands[id].status = config.brands[id].status === 'active' ? 'inactive' : 'active';
            saveAllData();
            loadBrandsList();
            populateSelects();
            showNotification(`Marca ${config.brands[id].status === 'active' ? 'activada' : 'desactivada'}`, 'success');
        }

        function deleteBrand(id) {
            if (!confirm('¿Eliminar esta marca? Los productos asociados quedarán sin marca.')) return;
            
            delete config.brands[id];
            saveAllData();
            loadBrandsList();
            populateSelects();
            updateAllDisplays();
            showNotification('Marca eliminada', 'success');
        }

        // Form Management Functions
        function clearProductForm() {
            document.getElementById('productForm').reset();
            document.getElementById('editProductId').value = '';
            editingProductId = null;
            currentProductImages = [];
            updateImagePreview();
            showNotification('Formulario limpiado', 'info');
        }

        function cancelProductEdit() {
            clearProductForm();
            showNotification('Edición cancelada', 'info');
        }

        function addImageUrl() {
            const url = document.getElementById('imageUrl').value.trim();
            if (!url) {
                showNotification('Ingresa una URL válida', 'warning');
                return;
            }
            
            currentProductImages.push(url);
            document.getElementById('imageUrl').value = '';
            updateImagePreview();
            showNotification('Imagen agregada', 'success');
        }

        function removeImage(index) {
            currentProductImages.splice(index, 1);
            updateImagePreview();
            showNotification('Imagen eliminada', 'info');
        }

        function updateImagePreview() {
            const container = document.getElementById('imagePreview');
            if (!container) return;
            
            container.innerHTML = currentProductImages.map((url, index) => `
                <div class="relative">
                    <img src="${url}" alt="Preview ${index + 1}" class="w-full h-24 object-cover rounded-lg" onerror="this.src='https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80'">
                    <button type="button" onclick="removeImage(${index})" class="absolute top-1 right-1 bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `).join('');
        }

        // Form Submission Handlers
        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('productName').value,
                price: parseInt(document.getElementById('productPrice').value),
                category: document.getElementById('productCategory').value,
                brand: document.getElementById('productBrand').value,
                sizes: document.getElementById('productSizes').value.split(',').map(s => s.trim()),
                description: document.getElementById('productDescription').value,
                status: document.getElementById('productStatus').value,
                images: [...currentProductImages]
            };
            
            if (editingProductId) {
                const product = products.find(p => p.id === editingProductId);
                if (product) {
                    Object.assign(product, formData);
                    showNotification('Producto actualizado', 'success');
                }
            } else {
                const newProduct = {
                    id: nextProductId++,
                    ...formData
                };
                products.push(newProduct);
                showNotification('Producto creado', 'success');
            }
            
            saveAllData();
            updateAllDisplays();
            clearProductForm();
        });

        document.getElementById('categoryForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const id = document.getElementById('categoryId').value;
            const name = document.getElementById('categoryName').value;
            const icon = document.getElementById('categoryIcon').value;
            const status = document.getElementById('categoryStatus').value;
            
            if (editingCategoryId && editingCategoryId !== id) {
                // Renaming category
                config.categories[id] = config.categories[editingCategoryId];
                delete config.categories[editingCategoryId];
                editingCategoryId = null;
            }
            
            config.categories[id] = { name, icon, status };
            
            saveAllData();
            loadCategoriesList();
            populateSelects();
            document.getElementById('categoryForm').reset();
            showNotification('Categoría guardada', 'success');
        });

        document.getElementById('brandForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const id = document.getElementById('brandId').value;
            const name = document.getElementById('brandName').value;
            const url = document.getElementById('brandUrl').value;
            const image = document.getElementById('brandImage').value;
            const status = document.getElementById('brandStatus').value;
            
            if (editingBrandId && editingBrandId !== id) {
                // Renaming brand
                config.brands[id] = config.brands[editingBrandId];
                delete config.brands[editingBrandId];
                editingBrandId = null;
            }
            
            config.brands[id] = { name, url, image, status };
            
            saveAllData();
            loadBrandsList();
            populateSelects();
            updateAllDisplays();
            document.getElementById('brandForm').reset();
            showNotification('Marca guardada', 'success');
        });

        // Placeholder functions for remaining features
        function createTemplate(type) {
            showNotification('Función de plantillas en desarrollo', 'info');
        }

        function setupImageUpload() {
            // Image upload functionality would go here
        }

        function setupBrandImagePreview() {
            // Brand image preview functionality would go here
        }

        function resetToDefault() {
            showNotification('Función de reset en desarrollo', 'info');
        }

        function saveDesign() {
            showNotification('Función de diseño en desarrollo', 'info');
        }

        function uploadLogo() {
            showNotification('Función de logo en desarrollo', 'info');
        }

        function uploadFavicon() {
            showNotification('Función de favicon en desarrollo', 'info');
        }

        function updateFavicon() {
            showNotification('Función de favicon en desarrollo', 'info');
        }

        function saveLogos() {
            showNotification('Función de logos en desarrollo', 'info');
        }

        function exportForGitHub() {
            showNotification('Función de exportación en desarrollo', 'info');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9896514a57bc1d49',t:'MTc1OTU5ODA4Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe>


<script>
function downloadFile(filename, content) {
    const blob = new Blob([content], { type: "text/plain;charset=utf-8" });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = filename;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(link.href);
}

function doDownloads() {
    const files = [
        {
            name: "README.md",
            content: `# Jackets Master Website
Sitio web de Jackets Master - Equipamiento motociclista premium en Los Yoses, Costa Rica.

## Contenido
- index.html (frontend principal)
- catalog.json (datos de productos, marcas y categorías)
- README.md
- .gitignore
- LICENSE (MIT)

## Uso
Puedes abrir index.html directamente o desplegar en GitHub Pages.
`
        },
        {
            name: ".gitignore",
            content: `# Dependencias
node_modules/
.env
*.log
*.tmp
.DS_Store
`
        },
        {
            name: "LICENSE",
            content: `MIT License

Copyright (c) 2025 Jackets Master

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions...`
        },
        {
            name: "catalog.json",
            content: JSON.stringify(config, null, 2)
        },
        {
            name: "index.html",
            content: document.documentElement.outerHTML
        }
    ];

    files.forEach((file, index) => {
        setTimeout(() => {
            downloadFile(file.name, file.content);
        }, index * 300);
    });

    setTimeout(() => {
        alert("✅ Archivos exportados correctamente. Súbelos a tu repositorio GitHub.");
    }, files.length * 300 + 500);
}

function exportForGitHub() {
    // Guardamos flag en localStorage y recargamos en inicio
    localStorage.setItem("pendingExport", "true");
    window.location.hash = "#inicio";
    window.location.reload();
}

// Al cargar la página, si hay export pendiente, se ejecuta y se limpia el flag
window.addEventListener("load", () => {
    if (localStorage.getItem("pendingExport") === "true") {
        localStorage.removeItem("pendingExport");
        setTimeout(doDownloads, 1000); // dar 1s para que renderice inicio
    }
});
</script>

<script>
/* ===== Jackets Master - Admin Enhancement Script =====
   - Admin CRUD for products, categories, brands
   - Persistence in localStorage
   - Export all files as a single ZIP (jackets-master-export.zip) using a lightweight zip builder
   - Better export flow (single ZIP on user click)
   - Ensures admin panel is not open by default when loading exported files
   - Import/Backup support
*/
(function(){
    // --- Helpers ---
    function utf8Bytes(str){
        return new TextEncoder().encode(str);
    }
    function u32LE(n){
        return [n & 0xFF, (n>>8)&0xFF, (n>>16)&0xFF, (n>>24)&0xFF];
    }
    function u16LE(n){
        return [n & 0xFF, (n>>8)&0xFF];
    }

    // CRC32 function
    const CRC32 = (function(){
        const table = new Uint32Array(256);
        for(let i=0;i<256;i++){
            let c = i;
            for(let k=0;k<8;k++){
                if(c & 1) c = 0xEDB88320 ^ (c >>> 1);
                else c = c >>> 1;
            }
            table[i] = c >>> 0;
        }
        return function crc32(bytes){
            let crc = 0xFFFFFFFF;
            for(let i=0;i<bytes.length;i++){
                crc = (crc >>> 8) ^ table[(crc ^ bytes[i]) & 0xFF];
            }
            return (crc ^ 0xFFFFFFFF) >>> 0;
        };
    })();

    // Build a ZIP file (no compression - store method)
    function buildZip(files){
        // files: [{name: "path.txt", data: Uint8Array}]
        const localHeaders = [];
        const centralHeaders = [];
        let offset = 0;
        const fileEntries = [];

        for(const file of files){
            const nameBytes = utf8Bytes(file.name);
            const dataBytes = (file.data instanceof Uint8Array) ? file.data : utf8Bytes(file.data);
            const crc = CRC32(dataBytes);
            const compressedSize = dataBytes.length;
            const uncompressedSize = dataBytes.length;
            // local file header
            const localHeader = [
                0x50,0x4B,0x03,0x04, // signature
                20,0, // version needed to extract
                0,0, // general purpose bit flag
                0,0, // compression method (0 = store)
                0,0,0,0, // last mod time/date (set to 0)
                ...u32LE(crc),
                ...u32LE(compressedSize),
                ...u32LE(uncompressedSize),
                ...u16LE(nameBytes.length),
                ...u16LE(0) // extra length
            ];
            const localHeaderBytes = new Uint8Array(localHeader.length + nameBytes.length + dataBytes.length);
            let p = 0;
            localHeaderBytes.set(localHeader, p); p += localHeader.length;
            localHeaderBytes.set(nameBytes, p); p += nameBytes.length;
            localHeaderBytes.set(dataBytes, p); p += dataBytes.length;

            localHeaders.push(localHeaderBytes);

            // central directory header
            const central = [
                0x50,0x4B,0x01,0x02, // signature
                20,0, // version made by
                20,0, // version needed to extract
                0,0, // gp bit flag
                0,0, // compression method
                0,0,0,0, // time/date
                ...u32LE(crc),
                ...u32LE(compressedSize),
                ...u32LE(uncompressedSize),
                ...u16LE(nameBytes.length),
                ...u16LE(0), // extra
                ...u16LE(0), // file comment
                ...u16LE(0), // disk number start
                ...u16LE(0), // internal attrs
                ...u32LE(0), // external attrs
                ...u32LE(offset) // relative offset of local header
            ];
            const centralBytes = new Uint8Array(central.length + nameBytes.length);
            centralBytes.set(central, 0);
            centralBytes.set(nameBytes, central.length);

            centralHeaders.push(centralBytes);

            fileEntries.push({local: localHeaderBytes, central: centralBytes});

            offset += localHeaderBytes.length;
        }

        // Concatenate local headers
        let totalLocalSize = 0;
        for(const f of localHeaders) totalLocalSize += f.length;
        let totalCentralSize = 0;
        for(const c of centralHeaders) totalCentralSize += c.length;

        const zipSize = totalLocalSize + totalCentralSize + 22; // end of central dir size (22)
        const out = new Uint8Array(zipSize);
        let pos = 0;
        for(const f of localHeaders){
            out.set(f, pos);
            pos += f.length;
        }
        const centralStart = pos;
        for(const c of centralHeaders){
            out.set(c, pos);
            pos += c.length;
        }
        const centralEnd = pos;
        // end of central dir
        const eocd = [
            0x50,0x4B,0x05,0x06, // signature
            0,0, // disk number
            0,0, // disk start
            ...u16LE(centralHeaders.length), // entries this disk
            ...u16LE(centralHeaders.length), // total entries
            ...u32LE(totalCentralSize), // size of central
            ...u32LE(centralStart), // offset of central
            0,0 // comment length
        ];
        out.set(eocd, pos); pos += eocd.length;

        return new Blob([out], {type: "application/zip"});
    }

    // --- App data management ---
    const STORAGE_KEYS = {
        CONFIG: "jm_config_v1",
        PRODUCTS: "jm_products_v1",
        CATEGORIES: "jm_categories_v1",
        BRANDS: "jm_brands_v1"
    };

    function defaultConfig(){
        return (window.config && typeof window.config === "object") ? JSON.parse(JSON.stringify(window.config)) : {
            siteName: "JACKETS MASTER",
            whatsappNumber: "88845533",
            siteDescription: "Equipamiento motociclista premium en Los Yoses, Costa Rica.",
            mainIcon: "fas fa-motorcycle",
            buttons: {
                mainWhatsappText: "CONTACTANOS POR WHATSAPP",
                productWhatsappText: "CONSULTAR",
                contactWhatsappText: "WHATSAPP",
                wazeButtonText: "ABRIR EN WAZE",
                wazeUrl: "https://waze.com/ul/hd1u0rps2s",
                promoButtonText: "CANAL PROMOS",
                promoUrl: "https://whatsapp.com/channel/0029VaAqJvs8feKtE8dJPv1h"
            },
            colors: {
                bodyBg: "#000000",
                titleColor: "#dc2626",
                textColor: "#ffffff",
            }
        };
    }

    function saveToStorage(key, value){
        try{
            localStorage.setItem(key, JSON.stringify(value));
        }catch(e){
            console.error("localStorage save error", e);
        }
    }
    function loadFromStorage(key, fallback){
        try{
            const raw = localStorage.getItem(key);
            if(!raw) return fallback;
            return JSON.parse(raw);
        }catch(e){
            console.error("localStorage read error", e);
            return fallback;
        }
    }

    // --- App object ---
    window.JMApp = {
        config: null,
        products: [],
        categories: [],
        brands: [],

        init: function(){
            // Load data or set defaults
            this.config = loadFromStorage(STORAGE_KEYS.CONFIG, defaultConfig());
            this.products = loadFromStorage(STORAGE_KEYS.PRODUCTS, []);
            this.categories = loadFromStorage(STORAGE_KEYS.CATEGORIES, Object.keys((this.config && this.config.categories) || {}).length ? this.config.categories : []);
            this.brands = loadFromStorage(STORAGE_KEYS.BRANDS, []);

            // UI bindings
            this.bindUI();
            this.renderAll();
        },

        bindUI: function(){
            // Forms & buttons
            const productForm = document.getElementById("productForm");
            if(productForm){
                productForm.addEventListener("submit", (e) => {
                    e.preventDefault();
                    this.saveProductFromForm();
                });
            }
            const categoryForm = document.getElementById("categoryForm");
            if(categoryForm){
                categoryForm.addEventListener("submit", (e) => {
                    e.preventDefault();
                    this.addCategoryFromForm();
                });
            }
            const brandForm = document.getElementById("brandForm");
            if(brandForm){
                brandForm.addEventListener("submit", (e) => {
                    e.preventDefault();
                    this.addBrandFromForm();
                });
            }

            // Export button (replace previous behavior)
            const exportBtn = document.querySelector("button[onclick^='exportForGitHub']") || document.querySelector("button:contains('Generar Archivos')");
            // If the previous button exists, change its onclick
            const exportButton = document.querySelector("button[onclick*='exportForGitHub']");
            if(exportButton){
                exportButton.removeAttribute("onclick");
                exportButton.addEventListener("click", () => { this.exportAllAsZip(); });
            } else {
                // fallback: find by icon
                const altExport = document.querySelector(".fa-rocket") && document.querySelector(".fa-rocket").closest("button");
                if(altExport){
                    altExport.addEventListener("click", () => { this.exportAllAsZip(); });
                }
            }

            // Import backup input
            const importFile = document.getElementById("importFile");
            if(importFile){
                importFile.addEventListener("change", (e) => {
                    const file = e.target.files[0];
                    if(!file) return;
                    const reader = new FileReader();
                    reader.onload = (evt) => {
                        try{
                            const data = JSON.parse(evt.target.result);
                            if(data.products) this.products = data.products;
                            if(data.config) this.config = data.config;
                            if(data.categories) this.categories = data.categories;
                            if(data.brands) this.brands = data.brands;
                            this.saveAll();
                            this.renderAll();
                            alert("Backup importado correctamente.");
                        }catch(err){
                            alert("Archivo inválido.");
                        }
                    };
                    reader.readAsText(file, "utf-8");
                });
            }
        },

        renderAll: function(){
            this.renderProductsGrid();
            this.renderAdminProductList();
            this.renderCategoriesList();
            this.renderBrandsList();
            this.updateStats();
            this.applyConfigToUI();
        },

        applyConfigToUI: function(){
            // site title and headers
            const siteTitleHeader = document.getElementById("siteTitleHeader");
            const siteTitleFooter = document.getElementById("siteTitleFooter");
            const heroTitle = document.getElementById("heroTitle");
            if(siteTitleHeader) siteTitleHeader.textContent = this.config.siteName || "JACKETS MASTER";
            if(siteTitleFooter) siteTitleFooter.textContent = this.config.siteName || "JACKETS MASTER";
            if(heroTitle) heroTitle.textContent = (this.config.siteName || "EQUIPAMIENTO MOTOCICLISTA PREMIUM").toUpperCase();
        },

        saveAll: function(){
            saveToStorage(STORAGE_KEYS.CONFIG, this.config);
            saveToStorage(STORAGE_KEYS.PRODUCTS, this.products);
            saveToStorage(STORAGE_KEYS.CATEGORIES, this.categories);
            saveToStorage(STORAGE_KEYS.BRANDS, this.brands);
        },

        // --- Product CRUD ---
        saveProductFromForm: function(){
            const idField = document.getElementById("editProductId");
            const name = document.getElementById("productName").value.trim();
            const price = parseFloat(document.getElementById("productPrice").value) || 0;
            const category = document.getElementById("productCategory").value;
            const brand = document.getElementById("productBrand").value;
            const sizes = document.getElementById("productSizes").value.trim();
            const status = document.getElementById("productStatus").value;
            const description = document.getElementById("productDescription").value.trim();
            const images = Array.from(document.querySelectorAll("#imagePreview img")).map(img=>img.src);

            if(!name){ alert("Nombre requerido"); return; }

            const product = {
                id: idField.value || ("p_" + Date.now()),
                name, price, category, brand, sizes, status, description, images
            };

            const existing = this.products.findIndex(p=>p.id === product.id);
            if(existing >= 0){
                this.products[existing] = product;
            } else {
                this.products.push(product);
            }

            this.saveAll();
            this.renderAll();
            this.clearProductForm();
            alert("Producto guardado.");
        },

        renderAdminProductList: function(){
            const list = document.getElementById("adminProductList");
            const count = document.getElementById("productCount");
            if(!list) return;
            list.innerHTML = "";
            this.products.forEach(p=>{
                const div = document.createElement("div");
                div.className = "bg-gray-800 p-4 rounded-lg flex items-center justify-between";
                const left = document.createElement("div");
                left.innerHTML = `<div class='font-bold text-white'>${p.name}</div><div class='text-sm text-gray-300'>₡${p.price.toLocaleString()}</div>`;
                const right = document.createElement("div");
                right.innerHTML = `<button class='btn-admin secondary mr-2' onclick="JMApp.editProduct('${p.id}')"><i class='fas fa-edit'></i></button>
                                   <button class='btn-admin danger' onclick="JMApp.deleteProduct('${p.id}')"><i class='fas fa-trash'></i></button>`;
                div.appendChild(left); div.appendChild(right);
                list.appendChild(div);
            });
            if(count) count.textContent = String(this.products.length);
        },

        renderProductsGrid: function(){
            const grid = document.getElementById("productsGrid");
            if(!grid) return;
            grid.innerHTML = "";
            const visible = this.products.filter(p => p.status !== "inactive");
            visible.forEach(p=>{
                const card = document.createElement("div");
                card.className = "product-card p-4";
                const img = (p.images && p.images[0]) ? `<img src="${p.images[0]}" alt="${p.name}" class="product-image rounded-md">` : `<div class="product-image bg-gray-200 flex items-center justify-center rounded-md"><i class="fas fa-image text-3xl"></i></div>`;
                card.innerHTML = `<div class='overflow-hidden rounded-md'>${img}</div>
                                  <div class='p-4'>
                                    <div class='font-bold text-lg mb-2'>${p.name}</div>
                                    <div class='text-sm text-gray-600 mb-2'>${p.description || ""}</div>
                                    <div class='font-semibold text-red-600 mb-2'>₡${p.price.toLocaleString()}</div>
                                    <div class='flex gap-2'>
                                        <a href='https://wa.me/${this.config.whatsappNumber}?text=${encodeURIComponent("Hola! Quiero consultar por: " + p.name)}' target='_blank' class='bg-red-gradient text-white px-4 py-2 rounded-xl inline-block font-bold'>${(this.config.buttons && this.config.buttons.productWhatsappText) || "CONSULTAR"}</a>
                                    </div>
                                  </div>`;
                grid.appendChild(card);
            });
        },

        editProduct: function(id){
            const p = this.products.find(x=>x.id===id);
            if(!p) return;
            document.getElementById("editProductId").value = p.id;
            document.getElementById("productName").value = p.name;
            document.getElementById("productPrice").value = p.price;
            document.getElementById("productCategory").value = p.category;
            document.getElementById("productBrand").value = p.brand;
            document.getElementById("productSizes").value = p.sizes;
            document.getElementById("productStatus").value = p.status;
            document.getElementById("productDescription").value = p.description;
            // images preview
            const imagePreview = document.getElementById("imagePreview");
            imagePreview.innerHTML = "";
            (p.images||[]).forEach(src=>{
                const im = document.createElement("img");
                im.src = src;
                im.className = "w-full h-32 object-cover rounded-md";
                imagePreview.appendChild(im);
            });
            // switch to products tab
            this.switchTab && this.switchTab('products');
            window.scrollTo({top:0, behavior:'smooth'});
        },

        deleteProduct: function(id){
            if(!confirm("Eliminar producto?")) return;
            this.products = this.products.filter(p=>p.id!==id);
            this.saveAll();
            this.renderAll();
        },

        clearProductForm: function(){
            document.getElementById("editProductId").value = "";
            document.getElementById("productForm").reset();
            document.getElementById("imagePreview").innerHTML = "";
        },

        // --- Categories ---
        addCategoryFromForm: function(){
            const id = document.getElementById("categoryId").value.trim();
            const name = document.getElementById("categoryName").value.trim();
            const icon = document.getElementById("categoryIcon").value.trim();
            if(!id || !name){ alert("ID y nombre son requeridos"); return; }
            const exists = this.categories && this.categories[id];
            if(!this.categories || typeof this.categories !== 'object') this.categories = {};
            this.categories[id] = { name, icon, status: document.getElementById("categoryStatus").value };
            this.saveAll();
            this.renderCategoriesList();
            // update category selects
            this.populateCategorySelects();
        },

        renderCategoriesList: function(){
            const container = document.getElementById("categoriesList");
            if(!container) return;
            container.innerHTML = "";
            if(!this.categories) this.categories = {};
            for(const id in this.categories){
                const cat = this.categories[id];
                const div = document.createElement("div");
                div.className = "flex items-center justify-between bg-gray-800 p-3 rounded-md";
                div.innerHTML = `<div><i class="${cat.icon} mr-2"></i><strong>${cat.name}</strong> <span class="text-sm text-gray-400">(${id})</span></div>
                                 <div><button class="btn-admin danger" onclick="JMApp.removeCategory('${id}')"><i class="fas fa-trash"></i></button></div>`;
                container.appendChild(div);
            }
            this.populateCategorySelects();
        },

        removeCategory: function(id){
            if(!confirm("Eliminar categoría?")) return;
            if(this.categories && this.categories[id]) delete this.categories[id];
            this.saveAll();
            this.renderCategoriesList();
        },

        populateCategorySelects: function(){
            const selects = document.querySelectorAll("#productCategory, #categoryFilter");
            // clear and populate
            let opts = `<option value="">Todas las categorías</option>`;
            if(this.categories){
                for(const id in this.categories){
                    const name = this.categories[id].name || id;
                    opts += `<option value="${id}">${name}</option>`;
                }
            }
            selects.forEach(s=> s.innerHTML = opts);
        },

        // --- Brands ---
        addBrandFromForm: function(){
            const id = document.getElementById("brandId").value.trim();
            const name = document.getElementById("brandName").value.trim();
            const url = document.getElementById("brandUrl").value.trim();
            const image = document.getElementById("brandImage").value.trim();
            if(!id || !name){ alert("ID y nombre de marca requeridos"); return; }
            if(!this.brands) this.brands = {};
            this.brands[id] = { name, url, image, status: document.getElementById("brandStatus").value };
            this.saveAll();
            this.renderBrandsList();
            this.populateBrandSelects();
        },

        renderBrandsList: function(){
            const container = document.getElementById("brandsList");
            if(!container) return;
            container.innerHTML = "";
            if(!this.brands) this.brands = {};
            for(const id in this.brands){
                const b = this.brands[id];
                const div = document.createElement("div");
                div.className = "flex items-center justify-between bg-gray-800 p-3 rounded-md";
                div.innerHTML = `<div class="flex items-center gap-3"><img src="${b.image||''}" alt="${b.name}" style="width:36px;height:36px;border-radius:6px;object-fit:cover"><strong>${b.name}</strong></div>
                                 <div><button class="btn-admin danger" onclick="JMApp.removeBrand('${id}')"><i class="fas fa-trash"></i></button></div>`;
                container.appendChild(div);
            }
            this.populateBrandSelects();
        },

        removeBrand: function(id){
            if(!confirm("Eliminar marca?")) return;
            if(this.brands && this.brands[id]) delete this.brands[id];
            this.saveAll();
            this.renderBrandsList();
        },

        populateBrandSelects: function(){
            const selects = document.querySelectorAll("#productBrand, #brandFilter");
            let opts = `<option value="">Todas las marcas</option>`;
            if(this.brands){
                for(const id in this.brands){
                    opts += `<option value="${id}">${this.brands[id].name}</option>`;
                }
            }
            selects.forEach(s=> s.innerHTML = opts);
        },

        // --- Export / Backup ---
        createBackupObject: function(){
            return {
                config: this.config,
                products: this.products,
                categories: this.categories,
                brands: this.brands,
                exportedAt: (new Date()).toISOString()
            };
        },

        exportAllAsZip: function(){
            // Build files
            const backup = JSON.stringify(this.createBackupObject(), null, 2);
            const readme = `# Jackets Master Website\nSitio web de Jackets Master - Equipamiento motociclista premium en Los Yoses, Costa Rica.\n\nContenido:\n- index.html\n- catalog.json\n- README.md\n- .gitignore\n- LICENSE\n`;
            const gitignore = `node_modules/\n.env\n.DS_Store\n`;
            const license = `MIT License\n\nCopyright (c) 2025 Jackets Master\n\nSe permite...`;
            const indexHtml = document.documentElement.outerHTML;

            const files = [
                {name: "README.md", data: utf8Bytes(readme)},
                {name: ".gitignore", data: utf8Bytes(gitignore)},
                {name: "LICENSE", data: utf8Bytes(license)},
                {name: "catalog.json", data: utf8Bytes(backup)},
                {name: "index.html", data: utf8Bytes(indexHtml)}
            ];

            const zipBlob = buildZip(files);
            const url = URL.createObjectURL(zipBlob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "jackets-master-export.zip";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            setTimeout(()=> alert("Exportación completa. Descargado jackets-master-export.zip"), 300);
        },

        // --- Utils ---
        updateStats: function(){
            const totalProducts = document.getElementById("totalProducts");
            const totalCategories = document.getElementById("totalCategories");
            const totalBrands = document.getElementById("totalBrands");
            const totalClicks = document.getElementById("totalClicks");
            if(totalProducts) totalProducts.textContent = String(this.products.length || 0);
            if(totalCategories) totalCategories.textContent = String(Object.keys(this.categories || {}).length || 0);
            if(totalBrands) totalBrands.textContent = String(Object.keys(this.brands || {}).length || 0);
            if(totalClicks) totalClicks.textContent = String(0);
        },

    };

    // Make helper functions available for HTML onclicks used in existing template
    window.createBackup = function(){
        const blob = new Blob([JSON.stringify(JMApp.createBackupObject(), null, 2)], {type: "application/json"});
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "jm-backup.json";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    };

    window.importBackup = function(){
        const input = document.getElementById("importFile");
        if(input) input.click();
    };

    // Initialize after DOM ready
    window.addEventListener("DOMContentLoaded", function(){
        // Ensure admin overlay is hidden on load (fix: exported file shouldn't open admin)
        const adminOverlay = document.getElementById("adminOverlay");
        if(adminOverlay) adminOverlay.classList.remove("active");

        // Initialize app
        window.JMApp.init();
    });

})(); // end closure
</script>






</body></html>